(window.webpackJsonp=window.webpackJsonp||[]).push([[392],{1606:function(a,s,t){"use strict";t.r(s);var e=t(26),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"kubectl-常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubectl-常用命令"}},[a._v("#")]),a._v(" Kubectl 常用命令")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("小提示：")]),a._v(" 所有命令前都可以加上 "),t("code",[a._v("watch")]),a._v(" 命令来观察状态的实时变化，如："),t("code",[a._v("watch kubectl get pods --all-namespaces")])])]),a._v(" "),t("h2",{attrs:{id:"查看组件状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看组件状态"}},[a._v("#")]),a._v(" 查看组件状态")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get cs\n")])])]),t("h2",{attrs:{id:"查看环境信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看环境信息"}},[a._v("#")]),a._v(" 查看环境信息")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl cluster-info\n")])])]),t("h2",{attrs:{id:"查看-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-node"}},[a._v("#")]),a._v(" 查看 Node")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get nodes -o wide\n")])])]),t("h2",{attrs:{id:"查看集群配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看集群配置"}},[a._v("#")]),a._v(" 查看集群配置")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl -n kube-system get cm kubeadm-config -oyaml\n")])])]),t("h2",{attrs:{id:"运行容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行容器"}},[a._v("#")]),a._v(" 运行容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl run nginx --image"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nginx --replicas"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" --port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("\n")])])]),t("h2",{attrs:{id:"暴露服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#暴露服务"}},[a._v("#")]),a._v(" 暴露服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl expose deployment nginx --port"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(" --type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("LoadBalancer\n")])])]),t("h2",{attrs:{id:"查看命名空间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看命名空间"}},[a._v("#")]),a._v(" 查看命名空间")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get namespace\n")])])]),t("h2",{attrs:{id:"创建命名空间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建命名空间"}},[a._v("#")]),a._v(" 创建命名空间")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Namespace\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" development\n")])])]),t("h2",{attrs:{id:"查看容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看容器"}},[a._v("#")]),a._v(" 查看容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get pods -o wide\nkubectl get deployment -o wide\n")])])]),t("h2",{attrs:{id:"查看服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看服务"}},[a._v("#")]),a._v(" 查看服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" -o wide\n")])])]),t("h2",{attrs:{id:"查看详情"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看详情"}},[a._v("#")]),a._v(" 查看详情")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl describe pod "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Pod Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nkubectl describe deployment "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Deployment Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nkubectl describe "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Service Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"查看日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[a._v("#")]),a._v(" 查看日志")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl logs -f "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Pod Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"删除容器和服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除容器和服务"}},[a._v("#")]),a._v(" 删除容器和服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl delete deployment "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Deployment Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\nkubectl delete "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Service Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"配置方式运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置方式运行"}},[a._v("#")]),a._v(" 配置方式运行")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl create -f "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("YAML"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"配置方式删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置方式删除"}},[a._v("#")]),a._v(" 配置方式删除")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl delete -f "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("YAML"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"查看配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看配置"}},[a._v("#")]),a._v(" 查看配置")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubeadm config view\nkubectl config view\n")])])]),t("h2",{attrs:{id:"查看-ingress"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-ingress"}},[a._v("#")]),a._v(" 查看 Ingress")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get ingress\n")])])]),t("h2",{attrs:{id:"查看持久卷"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看持久卷"}},[a._v("#")]),a._v(" 查看持久卷")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("pv")]),a._v("\n")])])]),t("h2",{attrs:{id:"查看持久卷消费者"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看持久卷消费者"}},[a._v("#")]),a._v(" 查看持久卷消费者")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get pvc\n")])])]),t("h2",{attrs:{id:"查看-configmap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-configmap"}},[a._v("#")]),a._v(" 查看 ConfigMap")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl get cm "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("ConfigMap Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"修改-configmap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-configmap"}},[a._v("#")]),a._v(" 修改 ConfigMap")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("kubectl edit cm "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("ConfigMap Name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);