(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1055:function(v,e,t){v.exports=t.p+"assets/img/Snipaste_2022-10-17_15-35-05.ed15f350.png"},1056:function(v,e){v.exports="data:image/png;base64,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"},1057:function(v,e,t){v.exports=t.p+"assets/img/image-20221018111947164.59dbffbd.png"},1058:function(v,e,t){v.exports=t.p+"assets/img/image-20221018170147265.ba09eb7f.png"},1059:function(v,e,t){v.exports=t.p+"assets/img/image-20221026145135128.d3c8445f.png"},1060:function(v,e,t){v.exports=t.p+"assets/img/image-20221026145145995.d0f6713a.png"},1061:function(v,e,t){v.exports=t.p+"assets/img/image-20221027092603074.38238541.png"},1062:function(v,e,t){v.exports=t.p+"assets/img/Snipaste_2022-11-02_17-17-12.07dd7542.png"},1063:function(v,e,t){v.exports=t.p+"assets/img/image-20221102172413973.11ed0a54.png"},1064:function(v,e,t){v.exports=t.p+"assets/img/image-20221102172512328.1f023b3d.png"},1599:function(v,e,t){"use strict";t.r(e);var _=t(26),s=Object(_.a)({},(function(){var v=this,e=v.$createElement,_=v._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"常用五大数据类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用五大数据类型"}},[v._v("#")]),v._v(" 常用五大数据类型")]),v._v(" "),_("p",[v._v("哪里去获得redis常见数据类型操作命令"),_("a",{attrs:{href:"http://www.redis.cn/commands.html",target:"_blank",rel:"noopener noreferrer"}},[v._v("Redis命令中心（Redis commands）"),_("OutboundLink")],1),v._v("。")]),v._v(" "),_("h2",{attrs:{id:"redis-键-key"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis-键-key"}},[v._v("#")]),v._v(" Redis 键(key)")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("命令")]),v._v(" "),_("th",[v._v("说明")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("keys *")]),v._v(" "),_("td",[v._v("查看当前库所有key  (匹配：keys *1)")])]),v._v(" "),_("tr",[_("td",[v._v("exists key")]),v._v(" "),_("td",[v._v("判断某个key是否存在")])]),v._v(" "),_("tr",[_("td",[v._v("type key")]),v._v(" "),_("td",[v._v("查看你的key是什么类型")])]),v._v(" "),_("tr",[_("td",[v._v("del key")]),v._v(" "),_("td",[v._v("删除指定的key数据")])]),v._v(" "),_("tr",[_("td",[v._v("unlink key")]),v._v(" "),_("td",[v._v("根据value选择非阻塞删除（仅将keys从keyspace元数据中删除，真正的删除会在后续异步操作。）")])]),v._v(" "),_("tr",[_("td",[v._v("expire key 10")]),v._v(" "),_("td",[v._v("10秒钟：为给定的key设置过期时间")])]),v._v(" "),_("tr",[_("td",[v._v("ttl key")]),v._v(" "),_("td",[v._v("查看还有多少秒过期，-1表示永不过期，-2表示已过期")])]),v._v(" "),_("tr",[_("td",[v._v("select")]),v._v(" "),_("td",[v._v("命令切换数据库")])]),v._v(" "),_("tr",[_("td",[v._v("dbsize")]),v._v(" "),_("td",[v._v("查看当前数据库的key的数量")])]),v._v(" "),_("tr",[_("td",[v._v("flushdb")]),v._v(" "),_("td",[v._v("清空当前库")])]),v._v(" "),_("tr",[_("td",[v._v("flushall")]),v._v(" "),_("td",[v._v("通杀全部库")])])])]),v._v(" "),_("h2",{attrs:{id:"redis-字符串-string"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis-字符串-string"}},[v._v("#")]),v._v(" Redis 字符串(String)")]),v._v(" "),_("h3",{attrs:{id:"简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("ul",[_("li",[v._v("String是Redis最基本的类型，你可以理解成与Memcached一模一样的类型，一个key对应一个value。")]),v._v(" "),_("li",[v._v("String类型是二进制安全的。意味着Redis的string可以包含任何数据。比如jpg图片或者序列化的对象。")]),v._v(" "),_("li",[v._v("String类型是Redis最基本的数据类型，一个Redis中字符串value最多可以是512M。")])]),v._v(" "),_("h3",{attrs:{id:"常用命令"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[v._v("#")]),v._v(" 常用命令")]),v._v(" "),_("p",[v._v("set  "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<value>")]),v._v(" 添加键值对")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("NX：当数据库中key不存在时，可以将key-value添加数据库")])]),v._v(" "),_("li",[_("p",[v._v("XX：当数据库中key存在时，可以将key-value添加数据库，与NX参数互斥")])]),v._v(" "),_("li",[_("p",[v._v("EX：key的超时秒数")])]),v._v(" "),_("li",[_("p",[v._v("PX：key的超时毫秒数，与EX互斥")])])]),v._v(" "),_("p",[v._v("get  "),_("code",[v._v("<key>")]),v._v(" 查询对应键值")]),v._v(" "),_("p",[v._v("append "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("将给定的"),_("code",[v._v("<value>")]),v._v("追加到原值的末尾")]),v._v(" "),_("p",[v._v("strlen "),_("code",[v._v("<key>")]),v._v("获得值的长度")]),v._v(" "),_("p",[v._v("setnx "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("只有在 key 不存在时  设置 key 的值")]),v._v(" "),_("p",[v._v("incr "),_("code",[v._v("<key>")]),v._v("：将 key 中储存的数字值增1，只能对数字值操作，如果为空，新增值为1。")]),v._v(" "),_("p",[v._v("decr "),_("code",[v._v("<key>")]),v._v("：将 key 中储存的数字值减1，只能对数字值操作，如果为空，新增值为-1。")]),v._v(" "),_("p",[v._v("incrby / decrby "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<步长>")]),v._v(" 将 key 中储存的数字值增减。自定义步长。")]),v._v(" "),_("p",[v._v("mset "),_("code",[v._v("<key1>")]),v._v(" "),_("code",[v._v("<value1>")]),v._v(" "),_("code",[v._v("<key2>")]),v._v(" "),_("code",[v._v("<value2>")]),v._v(" ...：同时设置一个或多个 key-value对 。")]),v._v(" "),_("p",[v._v("mget "),_("code",[v._v("<key1>")]),v._v(" "),_("code",[v._v("<key2>")]),v._v(" ...：同时获取一个或多个 value 。")]),v._v(" "),_("blockquote",[_("p",[v._v("如果使用集群Redis的话，批量操作是会出现CROSSSLOT Keys in request don‘t hash to the same slot报错。")]),v._v(" "),_("p",[_("strong",[_("font",{attrs:{color:"red"}},[v._v("解决方案")])],1)]),v._v(" "),_("p",[v._v("hash tag 可以影响 hash slot 的生成，相同 hash tag 的 key 会被分配到相同的 hash slot。hash tag使用 {...} 形式。对于包含 hash tag 的 key，redis只会对 {} 内的字符串计算 hash，从而相同 hash tag 的 key 会计算得到相同的 hash slot。")]),v._v(" "),_("p",[v._v("例如：")]),v._v(" "),_("p",[v._v('MSET {aaa}.key1 "hello" {aaa}.key2 "world"')])]),v._v(" "),_("p",[v._v("getrange "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<起始位置>")]),v._v(" "),_("code",[v._v("<结束位置>")]),v._v("：获得值的范围，类似java中的substring，前包，后包。")]),v._v(" "),_("p",[v._v("setrange "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<起始位置>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("：用 "),_("code",[v._v("<value>")]),v._v(" 覆写 "),_("code",[v._v("<key>")]),v._v("所储存的字符串值，从"),_("code",[v._v("<起始位置>")]),v._v("开始(索引从0开始)。")]),v._v(" "),_("p",[v._v("setex "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<过期时间>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("：设置键值的同时，设置过期时间，单位秒。")]),v._v(" "),_("p",[v._v("getset "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("：以新换旧，设置了新值同时获得旧值。")]),v._v(" "),_("h3",{attrs:{id:"原子性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#原子性"}},[v._v("#")]),v._v(" 原子性")]),v._v(" "),_("p",[v._v("比如")]),v._v(" "),_("p",[_("img",{attrs:{src:t(1055),alt:""}})]),v._v(" "),_("p",[v._v("所谓"),_("strong",[v._v("原子")]),v._v("操作是指不会被线程调度机制打断的操作，这种操作一旦开始，就一直运行到结束，中间不会有任何 context switch（切换到另一个线程）。")]),v._v(" "),_("p",[v._v('（1）在单线程中， 能够在单条指令中完成的操作都可以认为是"原子操作"，因为中断只能发生于指令之间。')]),v._v(" "),_("p",[v._v("（2）在多线程中，不能被其它进程（线程）打断的操作就叫原子操作。Redis单命令的原子性主要得益于Redis的单线程。")]),v._v(" "),_("h3",{attrs:{id:"数据结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据结构"}},[v._v("#")]),v._v(" 数据结构")]),v._v(" "),_("p",[v._v("String的数据结构为简单动态字符串(Simple Dynamic String，缩写SDS)。是可以修改的字符串，内部结构实现上类似于Java的ArrayList，采用预分配冗余空间的方式来减少内存的频繁分配。")]),v._v(" "),_("p",[_("img",{attrs:{src:t(1056),alt:"image-20221018111415821"}})]),v._v(" "),_("p",[v._v("如图中所示，内部为当前字符串实际分配的空间capacity一般要高于实际字符串长度len。当字符串长度小于1M时，扩容都是加倍现有的空间，如果超过1M，扩容时一次只会多扩1M的空间。需要注意的是字符串最大长度为512M。")]),v._v(" "),_("h2",{attrs:{id:"redis-列表-list"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis-列表-list"}},[v._v("#")]),v._v(" Redis 列表(List)")]),v._v(" "),_("h3",{attrs:{id:"简介-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介-2"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[_("strong",[v._v("单键多值")])]),v._v(" "),_("p",[v._v("Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。")]),v._v(" "),_("p",[v._v("它的底层实际是个"),_("font",{attrs:{color:"red"}},[v._v("双向链表")]),v._v("，对两端的操作性能很高，通过索引下标的操作中间的节点性能会较差。")],1),v._v(" "),_("p",[_("img",{attrs:{src:t(1057),alt:"image-20221018111947164"}})]),v._v(" "),_("h3",{attrs:{id:"常用命令-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用命令-2"}},[v._v("#")]),v._v(" 常用命令")]),v._v(" "),_("p",[v._v("lpush/rpush "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<value1><value2><value3>")]),v._v(" .... 从左边/右边插入一个或多个值。")]),v._v(" "),_("p",[v._v("lpop/rpop "),_("code",[v._v("<key>")]),v._v("从左边/右边吐出一个值。值在键在，值光键亡。")]),v._v(" "),_("p",[v._v("rpoplpush "),_("code",[v._v("<key1>")]),v._v(" "),_("code",[v._v("<key2>")]),v._v("从"),_("code",[v._v("<key1>")]),v._v("列表右边吐出一个值，插到"),_("code",[v._v("<key2>")]),v._v("列表左边。")]),v._v(" "),_("p",[v._v("lrange "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<start>")]),v._v(" "),_("code",[v._v("<stop>")]),v._v("：按照索引下标获得元素(从左到右)。")]),v._v(" "),_("p",[v._v("lrange mylist 0 -1  0左边第一个，-1右边第一个，（0-1表示获取所有）。")]),v._v(" "),_("p",[v._v("lindex "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<index>")]),v._v("按照索引下标获得元素(从左到右)。")]),v._v(" "),_("p",[v._v("llen "),_("code",[v._v("<key>")]),v._v("获得列表长度。")]),v._v(" "),_("p",[v._v("linsert "),_("code",[v._v("<key>")]),v._v(" before/after "),_("code",[v._v("<value>")]),v._v(" "),_("code",[v._v("<newvalue>")]),v._v("在"),_("code",[v._v("<value>")]),v._v("的前/后面插入"),_("code",[v._v("<newvalue>")]),v._v("插入值。")]),v._v(" "),_("p",[v._v("lrem "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<n>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("从左边删除n个value(从左到右)。")]),v._v(" "),_("p",[v._v("lset "),_("code",[v._v("<key>")]),v._v(" "),_("code",[v._v("<index>")]),v._v(" "),_("code",[v._v("<value>")]),v._v("将列表key下标为index的值替换成value。")]),v._v(" "),_("h3",{attrs:{id:"数据结构-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据结构-2"}},[v._v("#")]),v._v(" 数据结构")]),v._v(" "),_("ul",[_("li",[v._v("List的数据结构为快速链表quickList。")]),v._v(" "),_("li",[v._v("首先在列表元素较少的情况下会使用一块连续的内存存储，这个结构是ziplist，也即是压缩列表。")]),v._v(" "),_("li",[v._v("它将所有的元素紧挨着一起存储，分配的是一块连续的内存。")]),v._v(" "),_("li",[v._v("当数据量比较多的时候才会改成quicklist。")]),v._v(" "),_("li",[v._v("因为普通的链表需要的附加指针空间太大，会比较浪费空间。比如这个列表里存的只是int类型的数据，结构上还需要两个额外的指针prev和next。")])]),v._v(" "),_("p",[_("img",{attrs:{src:t(1058),alt:"image-20221018170147265"}})]),v._v(" "),_("ul",[_("li",[v._v("Redis将链表和ziplist结合起来组成了quicklist。也就是将多个ziplist使用双向指针串起来使用。这样既满足了快速的插入删除性能，又不会出现太大的空间冗余。")])]),v._v(" "),_("h2",{attrs:{id:"redis集合-set"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis集合-set"}},[v._v("#")]),v._v(" Redis集合(Set)")]),v._v(" "),_("h3",{attrs:{id:"简介-3"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介-3"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[v._v("Redis set对外提供的功能与list类似是一个列表的功能，特殊之处在于set是可以**"),_("font",{attrs:{color:"red"}},[v._v("自动排重")]),v._v("**的，当你需要存储一个列表数据，又不希望出现重复数据时，set是一个很好的选择，并且set提供了判断某个成员是否在一个set集合内的重要接口，这个也是list所不能提供的。")],1),v._v(" "),_("p",[v._v("Redis的Set是string类型的"),_("font",{attrs:{color:"red"}},[v._v("无序集合。它底层其实是一个value为null的hash表")]),v._v("，所以添加，删除，查找的**"),_("font",{attrs:{color:"red"}},[v._v("复杂度都是O(1)")]),v._v("**。")],1),v._v(" "),_("p",[v._v("一个算法，随着数据的增加，执行时间的长短，如果是O(1)，数据增加，查找数据的时间不变。")]),v._v(" "),_("h3",{attrs:{id:"常用命令-3"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用命令-3"}},[v._v("#")]),v._v(" 常用命令")]),v._v(" "),_("p",[v._v("sadd "),_("code",[v._v("<key> <value1> <value2> .....")]),v._v(" ：将一个或多个 member 元素加入到集合 key 中，已经存在的 member 元素将被忽略。")]),v._v(" "),_("p",[v._v("smembers "),_("code",[v._v("<key>")]),v._v(" 取出该集合的所有值。")]),v._v(" "),_("p",[v._v("sismember "),_("code",[v._v("<key> <value>")]),v._v("判断集合"),_("code",[v._v("<key>")]),v._v("是否为含有该"),_("code",[v._v("<value>")]),v._v("值，有1，没有0。")]),v._v(" "),_("p",[v._v("scard "),_("code",[v._v("<key>")]),v._v("返回该集合的元素个数。")]),v._v(" "),_("p",[v._v("srem "),_("code",[v._v("<key><value1><value2> ....")]),v._v(" 删除集合中的某个元素。")]),v._v(" "),_("p",[v._v("spop "),_("code",[v._v("<key>")]),v._v(" "),_("font",{attrs:{color:"red"}},[_("strong",[v._v("随机从该集合中吐出一个值。")])])],1),v._v(" "),_("p",[v._v("srandmember "),_("code",[v._v("<key> <n>")]),v._v("随机从该集合中取出n个值。不会从集合中删除 。")]),v._v(" "),_("p",[v._v("smove "),_("code",[v._v("<source> <destination>")]),v._v(" value把集合中一个值从一个集合移动到另一个集合")]),v._v(" "),_("p",[v._v("sinter "),_("code",[v._v("<key1> <key2>")]),v._v("返回两个集合的交集元素。")]),v._v(" "),_("p",[v._v("sunion "),_("code",[v._v("<key1> <key2>")]),v._v("返回两个集合的并集元素。")]),v._v(" "),_("p",[v._v("sdiff "),_("code",[v._v("<key1> <key2>")]),v._v("返回两个集合的"),_("strong",[v._v("差集")]),v._v("元素(key1中的，不包含key2中的)。")]),v._v(" "),_("h3",{attrs:{id:"数据结构-3"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据结构-3"}},[v._v("#")]),v._v(" 数据结构")]),v._v(" "),_("p",[v._v("Set数据结构是dict字典，字典是用哈希表实现的。")]),v._v(" "),_("p",[v._v("Java中HashSet的内部实现使用的是HashMap，只不过所有的value都指向同一个对象。Redis的set结构也是一样，它的内部也使用hash结构，所有的value都指向同一个内部值。")]),v._v(" "),_("h2",{attrs:{id:"redis哈希-hash"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis哈希-hash"}},[v._v("#")]),v._v(" Redis哈希(Hash)")]),v._v(" "),_("h3",{attrs:{id:"简介-4"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介-4"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[v._v("Redis hash 是一个键值对集合。")]),v._v(" "),_("p",[v._v("Redis hash是一个string类型的"),_("font",{attrs:{color:"red"}},[v._v("field")]),v._v("和"),_("font",{attrs:{color:"red"}},[v._v("value")]),v._v("的映射表，hash特别适合用于存储对象。类似Java里面的Map<String,Object>。")],1),v._v(" "),_("p",[v._v("例如：用户ID为查找的key，存储的value用户对象包含姓名，年龄，生日等信息，如果用普通的key/value结构来存储。")]),v._v(" "),_("p",[v._v("主要有以下2种存储方式：")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("方式一")]),v._v(" "),_("th",[v._v("方式二")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[_("img",{attrs:{src:t(1059),alt:"image-20221026145135128"}})]),v._v(" "),_("td",[_("img",{attrs:{src:t(1060),alt:"image-20221026145145995"}})])]),v._v(" "),_("tr",[_("td",[v._v("每次修改用户的某个属性需要，先反序列化改好后再序列化回去。开销较大。")]),v._v(" "),_("td",[v._v("用户ID数据冗余。")])])])]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[_("img",{attrs:{src:t(1061),alt:"image-20221027092603074"}})])])]),v._v(" "),_("tbody",[_("tr",[_("td",[v._v("通过 "),_("font",{attrs:{color:"red"}},[v._v("key(用户ID) + field(属性标签)")]),v._v(" 就可以操作对应属性数据了，既不需要重复存储数据，也不会带来序列化和并发修改控制的问题。")],1)])])]),v._v(" "),_("h3",{attrs:{id:"常用命令-4"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用命令-4"}},[v._v("#")]),v._v(" 常用命令")]),v._v(" "),_("p",[v._v("hset "),_("code",[v._v("<key> <field> <value>")]),v._v("给"),_("code",[v._v("<key>")]),v._v("集合中的 "),_("code",[v._v("<field>")]),v._v("键赋值"),_("code",[v._v("<value>")])]),v._v(" "),_("p",[v._v("hget "),_("code",[v._v("<key1> <field>")]),v._v("从"),_("code",[v._v("<key1>")]),v._v("集合"),_("code",[v._v("<field>")]),v._v("取出 value")]),v._v(" "),_("p",[v._v("hmset "),_("code",[v._v("<key1> <field1> <value1> <field2> <value2>...")]),v._v("批量设置hash的值")]),v._v(" "),_("p",[v._v("hexists "),_("code",[v._v("<key1> <field>")]),v._v("查看哈希表 key 中，给定域 field 是否存在")]),v._v(" "),_("p",[v._v("hkeys "),_("code",[v._v("<key>")]),v._v("列出该hash集合的所有field")]),v._v(" "),_("p",[v._v("hvals "),_("code",[v._v("<key>")]),v._v("列出该hash集合的所有value")]),v._v(" "),_("p",[v._v("hincrby "),_("code",[v._v("<key> <field> <increment>")]),v._v("为哈希表 key 中的域 field 的值加上增量 1  -1")]),v._v(" "),_("p",[v._v("hsetnx "),_("code",[v._v("<key> <field> <value>")]),v._v("将哈希表 key 中的域 field 的值设置为 value ，当且仅当域 field 不存在")]),v._v(" "),_("h3",{attrs:{id:"数据结构-4"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据结构-4"}},[v._v("#")]),v._v(" 数据结构")]),v._v(" "),_("p",[v._v("Hash类型对应的数据结构是两种：ziplist（压缩列表），hashtable（哈希表）。当field-value长度较短且个数较少时，使用ziplist，否则使用hashtable。")]),v._v(" "),_("h2",{attrs:{id:"redis有序集合zset-sorted-set"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis有序集合zset-sorted-set"}},[v._v("#")]),v._v(" Redis有序集合Zset(sorted set)")]),v._v(" "),_("h3",{attrs:{id:"简介-5"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介-5"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[v._v("Redis 有序集合zset与普通集合 set 非常相似，是一个"),_("font",{attrs:{color:"red"}},[v._v("没有重复元素")]),v._v("的字符串集合。")],1),v._v(" "),_("p",[v._v("不同之处是有序集合的每个成员都关联了一个"),_("font",{attrs:{color:"red"}},[_("strong",[v._v("评分（score）")])]),v._v(",这个评分（score）被用来按照从最低分到最高分的方式排序集合中的成员。"),_("font",{attrs:{color:"red"}},[v._v("集合的成员是唯一的，但是评分可以是重复了。")])],1),v._v(" "),_("p",[v._v("因为元素是有序的, 所以你也可以很快的根据评分（score）或者次序（position）来获取一个范围的元素。")]),v._v(" "),_("p",[v._v("访问有序集合的中间元素也是非常快的,因此你能够使用有序集合作为一个没有重复成员的智能列表。")]),v._v(" "),_("h3",{attrs:{id:"常用命令-5"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#常用命令-5"}},[v._v("#")]),v._v(" 常用命令")]),v._v(" "),_("p",[v._v("zadd "),_("code",[v._v("<key> <score1> <value1> <score2> <value2>…")]),v._v("：将一个或多个 member 元素及其 score 值加入到有序集 key 当中。")]),v._v(" "),_("p",[v._v("zrange "),_("code",[v._v("<key> <start> <stop> [WITHSCORES]")]),v._v("：返回有序集 key 中，下标在"),_("code",[v._v("<start> <stop>")]),v._v("之间的元素。带WITHSCORES，可以让分数一起和值返回到结果集。")]),v._v(" "),_("p",[v._v("zrangebyscore "),_("code",[v._v("key min max [withscores] [limit offset count]")]),v._v("：返回有序集 key 中，所有 score 值介于 min 和 max 之间(包括等于 min 或 max )的成员。有序集成员按 score 值递增(从小到大)次序排列。")]),v._v(" "),_("p",[v._v("zrevrangebyscore "),_("code",[v._v("key max min [withscores] [limit offset count]")]),v._v("：同上，改为从大到小排列。")]),v._v(" "),_("p",[v._v("zincrby "),_("code",[v._v("<key> <increment> <value>")]),v._v("：为元素的score加上增量。")]),v._v(" "),_("p",[v._v("zrem "),_("code",[v._v("<key> <value>")]),v._v("：删除该集合下，指定值的元素。")]),v._v(" "),_("p",[v._v("zcount "),_("code",[v._v("<key> <min> <max>")]),v._v("：统计该集合，分数区间内的元素个数。")]),v._v(" "),_("p",[v._v("zrank "),_("code",[v._v("<key> <value>")]),v._v("：返回该值在集合中的排名，从0开始。")]),v._v(" "),_("p",[v._v("案例：实现一个文章访问量的排行榜？")]),v._v(" "),_("p",[_("img",{attrs:{src:t(1062),alt:""}})]),v._v(" "),_("h3",{attrs:{id:"数据结构-5"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据结构-5"}},[v._v("#")]),v._v(" 数据结构")]),v._v(" "),_("p",[v._v("SortedSet(zset)是Redis提供的一个非常特别的数据结构，一方面它等价于Java的数据结构Map<String, Double>，可以给每一个元素value赋予一个权重score，另一方面它又类似于TreeSet，内部的元素会按照权重score进行排序，可以得到每个元素的名次，还可以通过score的范围来获取元素的列表。")]),v._v(" "),_("p",[v._v("zset底层使用了两个数据结构")]),v._v(" "),_("ol",[_("li",[_("p",[v._v("hash，hash的作用就是关联元素value和权重score，保障元素value的唯一性，可以通过元素value找到相应的score值。")])]),v._v(" "),_("li",[_("p",[v._v("跳跃表，跳跃表的目的在于给元素value排序，根据score的范围获取元素列表。")])])]),v._v(" "),_("h3",{attrs:{id:"跳跃表-跳表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#跳跃表-跳表"}},[v._v("#")]),v._v(" 跳跃表（跳表）")]),v._v(" "),_("h4",{attrs:{id:"简介-6"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介-6"}},[v._v("#")]),v._v(" 简介")]),v._v(" "),_("p",[v._v("​\t有序集合在生活中比较常见，例如根据成绩对学生排名，根据得分对玩家排名等。对于有序集合的底层实现，可以用数组、平衡树、链表等。数组不便元素的插入、删除；平衡树或红黑树虽然效率高但结构复杂；链表查询需要遍历所有效率低。Redis采用的是跳跃表。跳跃表效率堪比红黑树，实现远比红黑树简单。")]),v._v(" "),_("h4",{attrs:{id:"实例"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[v._v("#")]),v._v(" 实例")]),v._v(" "),_("p",[v._v("对比有序链表和跳跃表，从链表中查询出51")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("有序链表")]),v._v(" "),_("p",[_("img",{attrs:{src:t(1063),alt:"image-20221102172413973"}})]),v._v(" "),_("ul",[_("li",[v._v("要查询51需要从第一个元素开始查找、比较才能找到。共需要6次比较。")])])]),v._v(" "),_("li",[_("p",[v._v("跳跃表")]),v._v(" "),_("p",[_("img",{attrs:{src:t(1064),alt:"image-20221102172512328"}})]),v._v(" "),_("ul",[_("li",[v._v("从第2层开始，1节点比51节点小，向后比较，21节点比51节点小，继续向后比较，后面就是NULL了，所以从21节点向下到第1层。")]),v._v(" "),_("li",[v._v("在第1层，41节点比51节点小，继续向后，61节点比51节点大，所以从41向下。")]),v._v(" "),_("li",[v._v("在第0层，51节点为要查找的节点，节点被找到，共查找4次。")])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);