(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1143:function(a,t,s){a.exports=s.p+"assets/img/Lusifer_20190114024609.4814ad1c.png"},1144:function(a,t,s){a.exports=s.p+"assets/img/Lusifer_20190114025523.e75c80af.png"},1145:function(a,t,s){a.exports=s.p+"assets/img/Lusifer_20190114030006.5f88e8f7.png"},1146:function(a,t,s){a.exports=s.p+"assets/img/Lusifer_20190114030813.afc36875.png"},1147:function(a,t,s){a.exports=s.p+"assets/img/Lusifer_20190114030930.ef299e4a.png"},1148:function(a,t,s){a.exports=s.p+"assets/img/Lusifer_20190114031040.4b7069aa.png"},1675:function(a,t,s){"use strict";s.r(t);var e=s(26),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"skywalking-服务端配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#skywalking-服务端配置"}},[a._v("#")]),a._v(" SkyWalking 服务端配置")]),a._v(" "),e("h2",{attrs:{id:"基于-docker-安装-elasticsearch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基于-docker-安装-elasticsearch"}},[a._v("#")]),a._v(" 基于 Docker 安装 ElasticSearch")]),a._v(" "),e("p",[a._v("在 "),e("RouterLink",{attrs:{to:"/spring-cloud-alibaba/为什么需要链路追踪.html#为什么需要链路追踪"}},[e("strong",[a._v("为什么需要链路追踪")])]),a._v(" 章节中介绍过 SkyWalking 存储方案有多种，官方推荐的方案是 ElasticSearch ，所以我们需要先安装 ElasticSearch。")],1),a._v(" "),e("h3",{attrs:{id:"docker-compose-yml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yml"}},[a._v("#")]),a._v(" docker-compose.yml")]),a._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.3'")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("elasticsearch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wutang/elasticsearch"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("shanghai"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("zone"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("6.3.2\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" elasticsearch\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 9200"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" 9300"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" elasticsearch\n")])])]),e("p",[a._v("其中，"),e("code",[a._v("9200")]),a._v(" 端口号为 SkyWalking 配置 ElasticSearch 所需端口号，"),e("code",[a._v("cluster.name")]),a._v(" 为 SkyWalking 配置 ElasticSearch 集群的名称")]),a._v(" "),e("h3",{attrs:{id:"测试是否启动成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试是否启动成功"}},[a._v("#")]),a._v(" 测试是否启动成功")]),a._v(" "),e("p",[a._v("浏览器访问 http://elasticsearchIP:9200/ ，浏览器返回如下信息即表示成功启动")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1143),alt:"img"}})]),a._v(" "),e("h2",{attrs:{id:"下载并启动-skywalking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载并启动-skywalking"}},[a._v("#")]),a._v(" 下载并启动 SkyWalking")]),a._v(" "),e("p",[a._v("官方已经为我们准备好了编译过的服务端版本，下载地址为 http://skywalking.apache.org/downloads/，这里我们需要下载 6.x releases 版本")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1144),alt:"img"}})]),a._v(" "),e("h3",{attrs:{id:"配置-skywalking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-skywalking"}},[a._v("#")]),a._v(" 配置 SkyWalking")]),a._v(" "),e("p",[a._v("下载完成后解压缩，进入 "),e("code",[a._v("apache-skywalking-apm-incubating/config")]),a._v(" 目录并修改 "),e("code",[a._v("application.yml")]),a._v(" 配置文件")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1145),alt:"img"}})]),a._v(" "),e("p",[a._v("这里需要做三件事：")]),a._v(" "),e("ul",[e("li",[a._v("注释 H2 存储方案")]),a._v(" "),e("li",[a._v("启用 ElasticSearch 存储方案")]),a._v(" "),e("li",[a._v("修改 ElasticSearch 服务器地址")])]),a._v(" "),e("h3",{attrs:{id:"启动-skywalking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-skywalking"}},[a._v("#")]),a._v(" 启动 SkyWalking")]),a._v(" "),e("p",[a._v("修改完配置后，进入 "),e("code",[a._v("apache-skywalking-apm-incubating\\bin")]),a._v(" 目录，运行 "),e("code",[a._v("startup.bat")]),a._v(" 启动服务端")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1146),alt:"img"}})]),a._v(" "),e("p",[a._v("通过浏览器访问 http://localhost:8080 出现如下界面即表示启动成功")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1147),alt:"img"}})]),a._v(" "),e("p",[a._v("默认的用户名密码为：admin/admin，登录成功后，效果如下图")]),a._v(" "),e("p",[e("img",{attrs:{src:s(1148),alt:"img"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);