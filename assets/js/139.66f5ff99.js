(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{1183:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqYAAAFtCAYAAADVvKh1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB8GSURBVHhe7dvBr2VHnR/w/C/jELnHqInELqssIlYgWEQjeRsWWLLigHHDIpHGZDWAlEijkVALpBDcZhGzGZxoLKSAAtsQmSjKApDSThaYxQjPgu3NO6+7cFH63Vevx32rfl31+UhfnXN+51zfx3PNq+883/cPTgAAkMB1MX3xrYenT37rlzI4x/cdYHcvvX7/9KnPf00G5/i+E/v5n98//bd/8W9lcI7v+3UxjUqTjAnA7qLSJGNCLCpNMiaK6eQA7C4qTDImxKLCJGOimE4OwO6iwiRjQiwqTDImiunkAOwuKkwyJsSiwiRjophODsDuosIkY0IsKkwyJorp5ADsLipMMibEosIkY6KYTg7A7qLCJGNCLCpMMiaK6eQA7C4qTDImxKLCJGOimE4OwO6iwiRjQiwqTDImiunkAOwuKkwyJsSiwiRjophODsDuosIkY0IsKkwyJorp5ADsLipMMibEosIkY6KYTg7A7qLCJGNCLCpMMiaK6eQA7C4qTDImxKLCJGOimE4OwO6iwiRjQiwqTDImiunkAOwuKkwyJsSiwiRjophODsDuosIkY0IsKkwyJorp5ADsLipMMibEosIkY6KYTg7A7qLCJGNCLCpMMiaK6eQA7C4qTDImxKLCJGOimE4OwO6iwiRjQiwqTDIm04pp+77t9ZPM6/MorXOzGQHYXVSYMudZ/JrPhVhUmLLlWfk6nzRTf2Pavnd73c5uOm+V15x7XTm256MDsLuoMF06rWh26L2u1j77LIRYVJgukVY0O/ReV2uffdaS9j/ll6+rHG9zXo5tWudmMwKwu6gwXTr1+5bzcmzn7XU5tvO/Tz7Ka59GiEWF6RKp36ucl2M7b6/LsZ3/fXLTa2+6d4mkKKbnlHv1c+15Obbzm1I/U5/PSO2ddx+ePv31H55++8HvH08A1vH+1c+2z1z9jPvRLx4+njwSFaZLp37fcl6O7TxKLbp/23zU13/U1Hbcg86tyagwXSL1e5XzcmznUWrR/dvm3OuL6N6lkuYzpu28PbY5N79N2te21yNz+NVvfnf67DfePn3i3punj997cD0DWNELX35wuvuV758+9823T79+/4PrWVSYLp1WmdX36udLit7sNimvKccZOey+B0VrMipMl0irzOp79fMlRW92m5TXlGObc/NLJcVnTMsxmpVjfb/nSZ8v6teNymtv/PR09+qHwZ/8y++ennvlu6eXv/OTx18NwHq+8O0fn567+nl3/My7+9qbVz8DfxYWpkvn0J6XY5Sivq7vl9mhnZ9LebYcZ8QeFK/JqDBdIof2vByjFPV1fb/MDu38XMqz5djm3PxSSfMZ0/J1nDuWtNdtbnu/HGfmY1/9wen5L75x/X8MR+68+uAP55InL/7l31yvF1jVscajtX+p3Hn1w597z3/pe6c7L98PS9Mlc2jPI+WZNjfdu23KP6McR+f4vtuDHqVdk//s6nsTlaannUN7HinPtLnp3m1T/hnl2Obc/FJ55otp77qeH3qz0fH/reZ3/LuBlY1c45l+Y1ors+hY0lM/e5vUovsjYg+a/xvTWplFx5Ke+tnbpHbufjS/VKYX0/r9o/NybOdPcn2oZ22K6N6lc/ijz/dc/R8FuSimrG7kGr/+PN+9HJ8xbc/PHdtE82h2U9rn2+tROey+B0VrMipMl0j9XuX83LFNNI9mN6V9vr0+N7tkUnzGtD4vx3Yepdwrx3NpnZvNSO2dd9+7/utAf5Wfi2LK6kat8Q//Avq9x5NHosJ06dTvW87LsT1vE92LZjelfb69HpXajnvQuTUZFaZLpH6vcl6O7Xmb6F40uynt8+31udklM62Ytu9brsuxnbezQ33d3j93Xc7LsT0fHfJTTFnd7DUeFaZLp37fcn7uWCea3TSPUouuR4ZYVJgukfq9yvm5Y51odtM8Si26Pje7dFJ8xvTc11Ccu67T6t1r1c+PDPkppqxut2Jav2fRnrfPRddldmjnz0qIRYXpaad+n6I9b5+Lrsvs0M6fxaT546ddQ36KKavb8Tem8ijEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY6KYTg75KaasTjHdN8SiwiRjophODvkppqxOMd03xKLCJGOimE4O+SmmrE4x3TfEosIkY3JdTF9862FYmuSyOb7v5KeYsrrZa/yl1++HpUkum+P7Tuznf34/LE1y2Rzf9+tiCpynmLI6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSwUU+iwabM6axzIQjGFDps2q7PGgSyui+mLbz08ffJbv5TBOb7v5GfTZnWz1/hLr98/ferzX5PBOb7vkM11MY1Kk4wJ+SmmrG72Go9Kk4wJZKOYTg75KaasTjHdN5CNYjo55KeYsjrFdN9ANorp5JCfYsrqFNN9A9koppNDfoopq1NM9w1ko5hODvkppqxOMd03kI1iOjnkp5iyOsV030A2iunkkJ9iyuoU030D2Simk0N+iimrU0z3DWSjmE4O+SmmrE4x3TeQjWI6OeSnmLI6xXTfQDaK6eSQ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"},1184:function(s,t,a){s.exports=a.p+"assets/img/Lusifer201805292246008.d16c31ff.png"},1694:function(s,t,a){"use strict";a.r(t);var n=a(26),p=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"使用熔断器防止服务雪崩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用熔断器防止服务雪崩"}},[s._v("#")]),s._v(" 使用熔断器防止服务雪崩")]),s._v(" "),n("h2",{attrs:{id:"概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),n("p",[s._v("在微服务架构中，根据业务来拆分成一个个的服务，服务与服务之间可以通过 "),n("code",[s._v("RPC")]),s._v(" 相互调用，在 Spring Cloud 中可以用 "),n("code",[s._v("RestTemplate + Ribbon")]),s._v(" 和 "),n("code",[s._v("Feign")]),s._v(" 来调用。为了保证其高可用，单个服务通常会集群部署。由于网络原因或者自身的原因，服务并不能保证 100% 可用，如果单个服务出现问题，调用这个服务就会出现线程阻塞，此时若有大量的请求涌入，"),n("code",[s._v("Servlet")]),s._v(" 容器的线程资源会被消耗完毕，导致服务瘫痪。服务与服务之间的依赖性，故障会传播，会对整个微服务系统造成灾难性的严重后果，这就是服务故障的 "),n("strong",[s._v("“雪崩”")]),s._v(" 效应。")]),s._v(" "),n("p",[s._v("为了解决这个问题，业界提出了熔断器模型。")]),s._v(" "),n("p",[s._v("Netflix 开源了 Hystrix 组件，实现了熔断器模式，Spring Cloud 对这一组件进行了整合。在微服务架构中，一个请求需要调用多个服务是非常常见的，如下图：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1183),alt:"img"}})]),s._v(" "),n("p",[s._v("较底层的服务如果出现故障，会导致连锁故障。当对特定的服务的调用的不可用达到一个阀值（Hystrix 是 "),n("strong",[s._v("5 秒 20 次")]),s._v("） 熔断器将会被打开。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1184),alt:"img"}})]),s._v(" "),n("p",[s._v("熔断器打开后，为了避免连锁故障，通过 "),n("code",[s._v("fallback")]),s._v(" 方法可以直接返回一个固定值。")]),s._v(" "),n("h2",{attrs:{id:"ribbon-中使用熔断器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ribbon-中使用熔断器"}},[s._v("#")]),s._v(" Ribbon 中使用熔断器")]),s._v(" "),n("h3",{attrs:{id:"在-pom-xml-中增加依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-pom-xml-中增加依赖"}},[s._v("#")]),s._v(" 在 "),n("code",[s._v("pom.xml")]),s._v(" 中增加依赖")]),s._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.cloud"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-cloud-starter-netflix-hystrix"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),n("h3",{attrs:{id:"在-application-中增加-enablehystrix-注解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-application-中增加-enablehystrix-注解"}},[s._v("#")]),s._v(" 在 Application 中增加 "),n("code",[s._v("@EnableHystrix")]),s._v(" 注解")]),s._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dfd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ribbon")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("autoconfigure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringBootApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("discovery"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableDiscoveryClient")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("netflix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hystrix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EnableHystrix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SpringBootApplication")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableDiscoveryClient")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@EnableHystrix")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WebAdminRibbonApplication")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WebAdminRibbonApplication")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h3",{attrs:{id:"在-service-中增加-hystrixcommand-注解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-service-中增加-hystrixcommand-注解"}},[s._v("#")]),s._v(" 在 Service 中增加 "),n("code",[s._v("@HystrixCommand")]),s._v(" 注解")]),s._v(" "),n("p",[s._v("在 Ribbon 调用方法上增加 "),n("code",[s._v("@HystrixCommand")]),s._v(" 注解并指定 "),n("code",[s._v("fallbackMethod")]),s._v(" 熔断方法")]),s._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dfd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ribbon"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("netflix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hystrix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("javanica"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HystrixCommand")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("beans"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("factory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Autowired")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stereotype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Service")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminService")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RestTemplate")]),s._v(" restTemplate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@HystrixCommand")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fallbackMethod "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hiError"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" restTemplate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getForObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://HELLO-SPRING-CLOUD-SERVICE-ADMIN/hi?message="')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("hiError")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hi，your message is :\\""')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" message "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\" but request error."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h3",{attrs:{id:"测试熔断器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试熔断器"}},[s._v("#")]),s._v(" 测试熔断器")]),s._v(" "),n("p",[s._v("此时我们关闭服务提供者，再次请求 http://localhost:8764/hi?message=HelloRibbon 浏览器会显示：")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('Hi，your message is :"HelloRibbon" but request error.\n')])])]),n("h2",{attrs:{id:"feign-中使用熔断器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#feign-中使用熔断器"}},[s._v("#")]),s._v(" Feign 中使用熔断器")]),s._v(" "),n("p",[s._v("Feign 是自带熔断器的，但默认是关闭的。需要在配置文件中配置打开它，在配置文件增加以下代码：")]),s._v(" "),n("div",{staticClass:"language-yml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("feign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hystrix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n")])])]),n("h3",{attrs:{id:"在-service-中增加-fallback-指定类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-service-中增加-fallback-指定类"}},[s._v("#")]),s._v(" 在 Service 中增加 "),n("code",[s._v("fallback")]),s._v(" 指定类")]),s._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dfd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("feign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dfd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("feign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hystrix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminServiceHystrix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("openfeign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FeignClient")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestMethod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bind"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("annotation"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestParam")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@FeignClient")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello-spring-cloud-service-admin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fallback "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminServiceHystrix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminService")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hi"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" method "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestMethod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GET"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestParam")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"message"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h3",{attrs:{id:"创建熔断器类并实现对应的-feign-接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建熔断器类并实现对应的-feign-接口"}},[s._v("#")]),s._v(" 创建熔断器类并实现对应的 Feign 接口")]),s._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dfd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("feign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hystrix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dfd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hello"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spring"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("web"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("admin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("feign"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminService")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stereotype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminServiceHystrix")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AdminService")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hi，your message is :\\""')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" message "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\" but request error."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h3",{attrs:{id:"测试熔断器-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试熔断器-2"}},[s._v("#")]),s._v(" 测试熔断器")]),s._v(" "),n("p",[s._v("此时我们关闭服务提供者，再次请求 http://localhost:8765/hi?message=HelloFeign 浏览器会显示：")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('Hi，your message is :"HelloFeign" but request error.\n')])])])])}),[],!1,null,null,null);t.default=p.exports}}]);