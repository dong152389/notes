<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Task | 我的笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/notes/favicon.ico">
    <script data-ad-client="ca-pub-4147143076931995" async="true" src="/notes//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="记录Java的学习过程">
    
    <link rel="preload" href="/notes/assets/css/0.styles.db9e9bf4.css" as="style"><link rel="preload" href="/notes/assets/js/app.4394edef.js" as="script"><link rel="preload" href="/notes/assets/js/3.499ba1d5.js" as="script"><link rel="preload" href="/notes/assets/js/39.e9da77b7.js" as="script"><link rel="prefetch" href="/notes/assets/js/1.38d69124.js"><link rel="prefetch" href="/notes/assets/js/10.a5dbd791.js"><link rel="prefetch" href="/notes/assets/js/100.855dee90.js"><link rel="prefetch" href="/notes/assets/js/101.5f61e033.js"><link rel="prefetch" href="/notes/assets/js/102.3469dfe6.js"><link rel="prefetch" href="/notes/assets/js/103.f97cd3c4.js"><link rel="prefetch" href="/notes/assets/js/104.d1be0323.js"><link rel="prefetch" href="/notes/assets/js/105.bff5ad21.js"><link rel="prefetch" href="/notes/assets/js/106.8bfda405.js"><link rel="prefetch" href="/notes/assets/js/107.fd4a3526.js"><link rel="prefetch" href="/notes/assets/js/108.ec803d12.js"><link rel="prefetch" href="/notes/assets/js/109.8bf97b71.js"><link rel="prefetch" href="/notes/assets/js/11.e807a7ed.js"><link rel="prefetch" href="/notes/assets/js/110.3cbf71f4.js"><link rel="prefetch" href="/notes/assets/js/111.d4476b7a.js"><link rel="prefetch" href="/notes/assets/js/112.3d5957bd.js"><link rel="prefetch" href="/notes/assets/js/113.f101f928.js"><link rel="prefetch" href="/notes/assets/js/114.b45be011.js"><link rel="prefetch" href="/notes/assets/js/115.36fae589.js"><link rel="prefetch" href="/notes/assets/js/116.9f5abe3a.js"><link rel="prefetch" href="/notes/assets/js/117.ea710cb4.js"><link rel="prefetch" href="/notes/assets/js/118.cc44a183.js"><link rel="prefetch" href="/notes/assets/js/119.58bcbadf.js"><link rel="prefetch" href="/notes/assets/js/12.b8e9ea0e.js"><link rel="prefetch" href="/notes/assets/js/120.38ae234a.js"><link rel="prefetch" href="/notes/assets/js/121.20e6693e.js"><link rel="prefetch" href="/notes/assets/js/122.9d14160c.js"><link rel="prefetch" href="/notes/assets/js/123.56e221ac.js"><link rel="prefetch" href="/notes/assets/js/124.80c6fac9.js"><link rel="prefetch" href="/notes/assets/js/125.b851edf2.js"><link rel="prefetch" href="/notes/assets/js/126.565b012b.js"><link rel="prefetch" href="/notes/assets/js/127.d7d6e0ea.js"><link rel="prefetch" href="/notes/assets/js/128.2242a066.js"><link rel="prefetch" href="/notes/assets/js/129.02e60c5d.js"><link rel="prefetch" href="/notes/assets/js/13.ee61224b.js"><link rel="prefetch" href="/notes/assets/js/130.869b1fef.js"><link rel="prefetch" href="/notes/assets/js/131.e7f3e93e.js"><link rel="prefetch" href="/notes/assets/js/132.29465758.js"><link rel="prefetch" href="/notes/assets/js/133.758d34b1.js"><link rel="prefetch" href="/notes/assets/js/134.b91b657f.js"><link rel="prefetch" href="/notes/assets/js/135.f22c78a9.js"><link rel="prefetch" href="/notes/assets/js/136.ff7a4dfb.js"><link rel="prefetch" href="/notes/assets/js/137.0217e3a6.js"><link rel="prefetch" href="/notes/assets/js/138.4530d752.js"><link rel="prefetch" href="/notes/assets/js/139.66f5ff99.js"><link rel="prefetch" href="/notes/assets/js/14.b0ee0bd3.js"><link rel="prefetch" href="/notes/assets/js/140.e98b7a29.js"><link rel="prefetch" href="/notes/assets/js/141.17370b53.js"><link rel="prefetch" href="/notes/assets/js/142.9171a17e.js"><link rel="prefetch" href="/notes/assets/js/143.123cb882.js"><link rel="prefetch" href="/notes/assets/js/144.a3ab3c1e.js"><link rel="prefetch" href="/notes/assets/js/145.df6095ce.js"><link rel="prefetch" href="/notes/assets/js/146.297a5691.js"><link rel="prefetch" href="/notes/assets/js/147.8b775c1d.js"><link rel="prefetch" href="/notes/assets/js/148.5d1953b6.js"><link rel="prefetch" href="/notes/assets/js/149.e86e91d0.js"><link rel="prefetch" href="/notes/assets/js/15.598de02e.js"><link rel="prefetch" href="/notes/assets/js/150.a98bca9c.js"><link rel="prefetch" href="/notes/assets/js/151.f29d3d49.js"><link rel="prefetch" href="/notes/assets/js/152.76982dca.js"><link rel="prefetch" href="/notes/assets/js/153.6cfba964.js"><link rel="prefetch" href="/notes/assets/js/154.cc02a668.js"><link rel="prefetch" href="/notes/assets/js/155.974eb41d.js"><link rel="prefetch" href="/notes/assets/js/156.ecf561d9.js"><link rel="prefetch" href="/notes/assets/js/157.79282e02.js"><link rel="prefetch" href="/notes/assets/js/158.bbd922f3.js"><link rel="prefetch" href="/notes/assets/js/159.89c0c986.js"><link rel="prefetch" href="/notes/assets/js/16.44d6776e.js"><link rel="prefetch" href="/notes/assets/js/160.baf9d921.js"><link rel="prefetch" href="/notes/assets/js/161.a9b8f635.js"><link rel="prefetch" href="/notes/assets/js/162.6d6a7ec5.js"><link rel="prefetch" href="/notes/assets/js/163.a3c7488c.js"><link rel="prefetch" href="/notes/assets/js/164.c9f0500c.js"><link rel="prefetch" href="/notes/assets/js/165.30411c9b.js"><link rel="prefetch" href="/notes/assets/js/166.bc3d5911.js"><link rel="prefetch" href="/notes/assets/js/167.c661fd7b.js"><link rel="prefetch" href="/notes/assets/js/168.cbc5ab9b.js"><link rel="prefetch" href="/notes/assets/js/169.5dee4e88.js"><link rel="prefetch" href="/notes/assets/js/17.d7b8971a.js"><link rel="prefetch" href="/notes/assets/js/170.9e2897f5.js"><link rel="prefetch" href="/notes/assets/js/171.057d9ad1.js"><link rel="prefetch" href="/notes/assets/js/172.fa910130.js"><link rel="prefetch" href="/notes/assets/js/173.4723064f.js"><link rel="prefetch" href="/notes/assets/js/174.8ad20ad0.js"><link rel="prefetch" href="/notes/assets/js/175.ad7ca5e6.js"><link rel="prefetch" href="/notes/assets/js/176.ddd3d12c.js"><link rel="prefetch" href="/notes/assets/js/177.5fb19a05.js"><link rel="prefetch" href="/notes/assets/js/178.8647fda3.js"><link rel="prefetch" href="/notes/assets/js/179.b08f05a2.js"><link rel="prefetch" href="/notes/assets/js/18.42070e39.js"><link rel="prefetch" href="/notes/assets/js/180.4013a5e3.js"><link rel="prefetch" href="/notes/assets/js/181.2ff5d065.js"><link rel="prefetch" href="/notes/assets/js/182.84cb537c.js"><link rel="prefetch" href="/notes/assets/js/183.f5eabd47.js"><link rel="prefetch" href="/notes/assets/js/184.a01b9e48.js"><link rel="prefetch" href="/notes/assets/js/185.e7d88f1a.js"><link rel="prefetch" href="/notes/assets/js/186.358a2348.js"><link rel="prefetch" href="/notes/assets/js/187.9c01f97b.js"><link rel="prefetch" href="/notes/assets/js/188.a26520e2.js"><link rel="prefetch" href="/notes/assets/js/189.e8101173.js"><link rel="prefetch" href="/notes/assets/js/19.deaea0cd.js"><link rel="prefetch" href="/notes/assets/js/190.4db66d1c.js"><link rel="prefetch" href="/notes/assets/js/191.c4fb68e3.js"><link rel="prefetch" href="/notes/assets/js/192.3898a6bb.js"><link rel="prefetch" href="/notes/assets/js/193.e1645fe5.js"><link rel="prefetch" href="/notes/assets/js/194.444e8222.js"><link rel="prefetch" href="/notes/assets/js/195.5a6c28d2.js"><link rel="prefetch" href="/notes/assets/js/196.70fb07df.js"><link rel="prefetch" href="/notes/assets/js/197.e0c5fd7e.js"><link rel="prefetch" href="/notes/assets/js/198.fff60e9b.js"><link rel="prefetch" href="/notes/assets/js/199.38151e80.js"><link rel="prefetch" href="/notes/assets/js/20.31d3a4b3.js"><link rel="prefetch" href="/notes/assets/js/200.746630e8.js"><link rel="prefetch" href="/notes/assets/js/201.c19c0234.js"><link rel="prefetch" href="/notes/assets/js/202.e3cbb9d0.js"><link rel="prefetch" href="/notes/assets/js/203.d433a129.js"><link rel="prefetch" href="/notes/assets/js/204.de75ac01.js"><link rel="prefetch" href="/notes/assets/js/205.55f064b3.js"><link rel="prefetch" href="/notes/assets/js/206.2e4c6536.js"><link rel="prefetch" href="/notes/assets/js/207.658b0485.js"><link rel="prefetch" href="/notes/assets/js/208.0414daa5.js"><link rel="prefetch" href="/notes/assets/js/209.a8c2b910.js"><link rel="prefetch" href="/notes/assets/js/21.998ed6e0.js"><link rel="prefetch" href="/notes/assets/js/210.aad4c8fc.js"><link rel="prefetch" href="/notes/assets/js/211.f116cd27.js"><link rel="prefetch" href="/notes/assets/js/212.f4628715.js"><link rel="prefetch" href="/notes/assets/js/213.ceadc213.js"><link rel="prefetch" href="/notes/assets/js/214.20425d7e.js"><link rel="prefetch" href="/notes/assets/js/215.ea509344.js"><link rel="prefetch" href="/notes/assets/js/216.a4ab1a13.js"><link rel="prefetch" href="/notes/assets/js/217.e7f07700.js"><link rel="prefetch" href="/notes/assets/js/218.d34a6368.js"><link rel="prefetch" href="/notes/assets/js/219.c6aa2c44.js"><link rel="prefetch" href="/notes/assets/js/22.0bde63c4.js"><link rel="prefetch" href="/notes/assets/js/220.a20be513.js"><link rel="prefetch" href="/notes/assets/js/221.7316596a.js"><link rel="prefetch" href="/notes/assets/js/222.841353ed.js"><link rel="prefetch" href="/notes/assets/js/223.e33bec57.js"><link rel="prefetch" href="/notes/assets/js/224.354d6301.js"><link rel="prefetch" href="/notes/assets/js/225.282386c1.js"><link rel="prefetch" href="/notes/assets/js/226.abb99fb7.js"><link rel="prefetch" href="/notes/assets/js/227.b2ab63ea.js"><link rel="prefetch" href="/notes/assets/js/228.df447bd0.js"><link rel="prefetch" href="/notes/assets/js/229.fd1b2705.js"><link rel="prefetch" href="/notes/assets/js/23.d600cd4a.js"><link rel="prefetch" href="/notes/assets/js/230.56479e93.js"><link rel="prefetch" href="/notes/assets/js/231.7fe06ae5.js"><link rel="prefetch" href="/notes/assets/js/232.40909175.js"><link rel="prefetch" href="/notes/assets/js/233.bba63cc0.js"><link rel="prefetch" href="/notes/assets/js/234.ca29b35e.js"><link rel="prefetch" href="/notes/assets/js/235.f8a823b0.js"><link rel="prefetch" href="/notes/assets/js/236.a2235fd6.js"><link rel="prefetch" href="/notes/assets/js/237.0a512d23.js"><link rel="prefetch" href="/notes/assets/js/238.74752a3f.js"><link rel="prefetch" href="/notes/assets/js/239.c2bca48c.js"><link rel="prefetch" href="/notes/assets/js/24.39be2e8d.js"><link rel="prefetch" href="/notes/assets/js/240.ced33249.js"><link rel="prefetch" href="/notes/assets/js/241.a18de0bf.js"><link rel="prefetch" href="/notes/assets/js/242.669b3661.js"><link rel="prefetch" href="/notes/assets/js/243.8d12af13.js"><link rel="prefetch" href="/notes/assets/js/244.94929fbd.js"><link rel="prefetch" href="/notes/assets/js/245.01f98b2d.js"><link rel="prefetch" href="/notes/assets/js/246.1c7cb7bc.js"><link rel="prefetch" href="/notes/assets/js/247.5d018884.js"><link rel="prefetch" href="/notes/assets/js/248.20cc0c3b.js"><link rel="prefetch" href="/notes/assets/js/249.a10fbf5a.js"><link rel="prefetch" href="/notes/assets/js/25.f7a1c429.js"><link rel="prefetch" href="/notes/assets/js/250.cea231a0.js"><link rel="prefetch" href="/notes/assets/js/251.52736b60.js"><link rel="prefetch" href="/notes/assets/js/252.60f6e80e.js"><link rel="prefetch" href="/notes/assets/js/253.e2ab134e.js"><link rel="prefetch" href="/notes/assets/js/254.d221539b.js"><link rel="prefetch" href="/notes/assets/js/255.9acb0f08.js"><link rel="prefetch" href="/notes/assets/js/256.22c747ac.js"><link rel="prefetch" href="/notes/assets/js/257.f836ea8d.js"><link rel="prefetch" href="/notes/assets/js/258.a11bcb0e.js"><link rel="prefetch" href="/notes/assets/js/259.08eb5bd9.js"><link rel="prefetch" href="/notes/assets/js/26.718316a9.js"><link rel="prefetch" href="/notes/assets/js/260.55db7d07.js"><link rel="prefetch" href="/notes/assets/js/261.a0f04612.js"><link rel="prefetch" href="/notes/assets/js/262.e507e349.js"><link rel="prefetch" href="/notes/assets/js/263.bc2798af.js"><link rel="prefetch" href="/notes/assets/js/264.aa2a7ed5.js"><link rel="prefetch" href="/notes/assets/js/265.b3125de8.js"><link rel="prefetch" href="/notes/assets/js/266.01bf6375.js"><link rel="prefetch" href="/notes/assets/js/267.ccea1a20.js"><link rel="prefetch" href="/notes/assets/js/268.be1e4e72.js"><link rel="prefetch" href="/notes/assets/js/269.dbd08cee.js"><link rel="prefetch" href="/notes/assets/js/27.94862e46.js"><link rel="prefetch" href="/notes/assets/js/270.1ca726b8.js"><link rel="prefetch" href="/notes/assets/js/271.f5474b97.js"><link rel="prefetch" href="/notes/assets/js/272.b0ef680f.js"><link rel="prefetch" href="/notes/assets/js/273.c4136437.js"><link rel="prefetch" href="/notes/assets/js/274.4e8bdfd6.js"><link rel="prefetch" href="/notes/assets/js/275.fb644fb5.js"><link rel="prefetch" href="/notes/assets/js/276.5cb09d9f.js"><link rel="prefetch" href="/notes/assets/js/277.57e58373.js"><link rel="prefetch" href="/notes/assets/js/278.43c33939.js"><link rel="prefetch" href="/notes/assets/js/279.914a110e.js"><link rel="prefetch" href="/notes/assets/js/28.a5e6fe66.js"><link rel="prefetch" href="/notes/assets/js/280.cf3b7a68.js"><link rel="prefetch" href="/notes/assets/js/281.de48ba8f.js"><link rel="prefetch" href="/notes/assets/js/282.c069db9c.js"><link rel="prefetch" href="/notes/assets/js/283.747f23a6.js"><link rel="prefetch" href="/notes/assets/js/284.d04f54b2.js"><link rel="prefetch" href="/notes/assets/js/285.39ac6b15.js"><link rel="prefetch" href="/notes/assets/js/286.43b88694.js"><link rel="prefetch" href="/notes/assets/js/287.2cafdc4d.js"><link rel="prefetch" href="/notes/assets/js/288.84d97b4e.js"><link rel="prefetch" href="/notes/assets/js/289.b2118bba.js"><link rel="prefetch" href="/notes/assets/js/29.ab3b6aaf.js"><link rel="prefetch" href="/notes/assets/js/290.16f2afe5.js"><link rel="prefetch" href="/notes/assets/js/291.bc6c61b0.js"><link rel="prefetch" href="/notes/assets/js/292.8bff7b6b.js"><link rel="prefetch" href="/notes/assets/js/293.a3a4b0f8.js"><link rel="prefetch" href="/notes/assets/js/294.0f2cb4da.js"><link rel="prefetch" href="/notes/assets/js/295.28aba777.js"><link rel="prefetch" href="/notes/assets/js/296.2371cb58.js"><link rel="prefetch" href="/notes/assets/js/297.61203718.js"><link rel="prefetch" href="/notes/assets/js/298.037c63f7.js"><link rel="prefetch" href="/notes/assets/js/299.b74b878c.js"><link rel="prefetch" href="/notes/assets/js/30.27ec9a11.js"><link rel="prefetch" href="/notes/assets/js/300.edf28f31.js"><link rel="prefetch" href="/notes/assets/js/301.b6986f4d.js"><link rel="prefetch" href="/notes/assets/js/302.48f59fa0.js"><link rel="prefetch" href="/notes/assets/js/303.c1e4d4ae.js"><link rel="prefetch" href="/notes/assets/js/304.b280da5f.js"><link rel="prefetch" href="/notes/assets/js/305.14e777bd.js"><link rel="prefetch" href="/notes/assets/js/306.3de8374a.js"><link rel="prefetch" href="/notes/assets/js/307.bb6b675d.js"><link rel="prefetch" href="/notes/assets/js/308.2dc4265f.js"><link rel="prefetch" href="/notes/assets/js/309.65b16b58.js"><link rel="prefetch" href="/notes/assets/js/31.20c8bfc3.js"><link rel="prefetch" href="/notes/assets/js/310.8e4c18ae.js"><link rel="prefetch" href="/notes/assets/js/311.c910a30b.js"><link rel="prefetch" href="/notes/assets/js/312.7036cc34.js"><link rel="prefetch" href="/notes/assets/js/313.103ece8b.js"><link rel="prefetch" href="/notes/assets/js/314.2e248349.js"><link rel="prefetch" href="/notes/assets/js/315.9affc380.js"><link rel="prefetch" href="/notes/assets/js/316.ebb4f037.js"><link rel="prefetch" href="/notes/assets/js/317.0dacd35e.js"><link rel="prefetch" href="/notes/assets/js/318.738240d2.js"><link rel="prefetch" href="/notes/assets/js/319.b54a8183.js"><link rel="prefetch" href="/notes/assets/js/32.2c249dba.js"><link rel="prefetch" href="/notes/assets/js/320.7262fc62.js"><link rel="prefetch" href="/notes/assets/js/321.b4d79334.js"><link rel="prefetch" href="/notes/assets/js/322.ad66b9bd.js"><link rel="prefetch" href="/notes/assets/js/323.a8dccd01.js"><link rel="prefetch" href="/notes/assets/js/324.d4051798.js"><link rel="prefetch" href="/notes/assets/js/325.c91a654f.js"><link rel="prefetch" href="/notes/assets/js/326.7ee08c62.js"><link rel="prefetch" href="/notes/assets/js/327.6215a570.js"><link rel="prefetch" href="/notes/assets/js/328.71120a1a.js"><link rel="prefetch" href="/notes/assets/js/329.22e47ea7.js"><link rel="prefetch" href="/notes/assets/js/33.e597a7df.js"><link rel="prefetch" href="/notes/assets/js/330.34079108.js"><link rel="prefetch" href="/notes/assets/js/331.d770f721.js"><link rel="prefetch" href="/notes/assets/js/332.aa85145a.js"><link rel="prefetch" href="/notes/assets/js/333.64e140e4.js"><link rel="prefetch" href="/notes/assets/js/334.cd240324.js"><link rel="prefetch" href="/notes/assets/js/335.cd547635.js"><link rel="prefetch" href="/notes/assets/js/336.91dab600.js"><link rel="prefetch" href="/notes/assets/js/337.2ec5cdc7.js"><link rel="prefetch" href="/notes/assets/js/338.59043c82.js"><link rel="prefetch" href="/notes/assets/js/339.8e5d1e06.js"><link rel="prefetch" href="/notes/assets/js/34.8d4b28aa.js"><link rel="prefetch" href="/notes/assets/js/340.9e2d2874.js"><link rel="prefetch" href="/notes/assets/js/341.61e6092a.js"><link rel="prefetch" href="/notes/assets/js/342.d0ee898b.js"><link rel="prefetch" href="/notes/assets/js/343.fb16ffba.js"><link rel="prefetch" href="/notes/assets/js/344.0bb46145.js"><link rel="prefetch" href="/notes/assets/js/345.ef6bfd94.js"><link rel="prefetch" href="/notes/assets/js/346.523ba3d0.js"><link rel="prefetch" href="/notes/assets/js/347.b7fd68da.js"><link rel="prefetch" href="/notes/assets/js/348.b6778cbf.js"><link rel="prefetch" href="/notes/assets/js/349.566ca9a1.js"><link rel="prefetch" href="/notes/assets/js/35.c2b72c34.js"><link rel="prefetch" href="/notes/assets/js/350.aa159fd9.js"><link rel="prefetch" href="/notes/assets/js/351.fe309038.js"><link rel="prefetch" href="/notes/assets/js/352.62097177.js"><link rel="prefetch" href="/notes/assets/js/353.8c8811bc.js"><link rel="prefetch" href="/notes/assets/js/354.d2ada007.js"><link rel="prefetch" href="/notes/assets/js/355.5d345cc6.js"><link rel="prefetch" href="/notes/assets/js/356.c6810cd7.js"><link rel="prefetch" href="/notes/assets/js/357.ac10961e.js"><link rel="prefetch" href="/notes/assets/js/358.0340e23d.js"><link rel="prefetch" href="/notes/assets/js/359.16bc2223.js"><link rel="prefetch" href="/notes/assets/js/36.57ca532c.js"><link rel="prefetch" href="/notes/assets/js/360.e45f7ea9.js"><link rel="prefetch" href="/notes/assets/js/361.a39d091e.js"><link rel="prefetch" href="/notes/assets/js/362.0283b5a9.js"><link rel="prefetch" href="/notes/assets/js/363.48fa48fe.js"><link rel="prefetch" href="/notes/assets/js/364.25a549cd.js"><link rel="prefetch" href="/notes/assets/js/365.2eddb807.js"><link rel="prefetch" href="/notes/assets/js/366.ef272f1a.js"><link rel="prefetch" href="/notes/assets/js/367.28e17043.js"><link rel="prefetch" href="/notes/assets/js/368.255a80fb.js"><link rel="prefetch" href="/notes/assets/js/369.ae66dd9f.js"><link rel="prefetch" href="/notes/assets/js/37.c545dd68.js"><link rel="prefetch" href="/notes/assets/js/370.88f9a32c.js"><link rel="prefetch" href="/notes/assets/js/371.7ffd8780.js"><link rel="prefetch" href="/notes/assets/js/372.605383d1.js"><link rel="prefetch" href="/notes/assets/js/373.c11f5dfe.js"><link rel="prefetch" href="/notes/assets/js/374.c00642a8.js"><link rel="prefetch" href="/notes/assets/js/375.0b004b06.js"><link rel="prefetch" href="/notes/assets/js/376.2769e761.js"><link rel="prefetch" href="/notes/assets/js/377.816e6da6.js"><link rel="prefetch" href="/notes/assets/js/378.cabaa608.js"><link rel="prefetch" href="/notes/assets/js/379.f3e43a5a.js"><link rel="prefetch" href="/notes/assets/js/38.3d798baf.js"><link rel="prefetch" href="/notes/assets/js/380.1ef68ac8.js"><link rel="prefetch" href="/notes/assets/js/381.f554891d.js"><link rel="prefetch" href="/notes/assets/js/382.4eeb9fb7.js"><link rel="prefetch" href="/notes/assets/js/383.de837b94.js"><link rel="prefetch" href="/notes/assets/js/384.085f9f09.js"><link rel="prefetch" href="/notes/assets/js/385.8fa51abb.js"><link rel="prefetch" href="/notes/assets/js/386.040eac11.js"><link rel="prefetch" href="/notes/assets/js/387.88990e8b.js"><link rel="prefetch" href="/notes/assets/js/388.1ea4a37c.js"><link rel="prefetch" href="/notes/assets/js/389.a323e4b9.js"><link rel="prefetch" href="/notes/assets/js/390.22026053.js"><link rel="prefetch" href="/notes/assets/js/391.9f02c56d.js"><link rel="prefetch" href="/notes/assets/js/392.d55d9034.js"><link rel="prefetch" href="/notes/assets/js/393.1cbbcf50.js"><link rel="prefetch" href="/notes/assets/js/394.55ea930c.js"><link rel="prefetch" href="/notes/assets/js/395.d0415c56.js"><link rel="prefetch" href="/notes/assets/js/396.a1f242c0.js"><link rel="prefetch" href="/notes/assets/js/397.ad062a1e.js"><link rel="prefetch" href="/notes/assets/js/398.401acbf5.js"><link rel="prefetch" href="/notes/assets/js/399.7fcb37f1.js"><link rel="prefetch" href="/notes/assets/js/4.0eddc376.js"><link rel="prefetch" href="/notes/assets/js/40.152fb70e.js"><link rel="prefetch" href="/notes/assets/js/400.7cad41d3.js"><link rel="prefetch" href="/notes/assets/js/401.bf6e604c.js"><link rel="prefetch" href="/notes/assets/js/402.5271fc7c.js"><link rel="prefetch" href="/notes/assets/js/403.a960210f.js"><link rel="prefetch" href="/notes/assets/js/404.220d9814.js"><link rel="prefetch" href="/notes/assets/js/405.fbeefca5.js"><link rel="prefetch" href="/notes/assets/js/406.1a7a3651.js"><link rel="prefetch" href="/notes/assets/js/407.92451b0d.js"><link rel="prefetch" href="/notes/assets/js/408.9081c518.js"><link rel="prefetch" href="/notes/assets/js/409.5b8705a8.js"><link rel="prefetch" href="/notes/assets/js/41.c973cd04.js"><link rel="prefetch" href="/notes/assets/js/410.2afd45ff.js"><link rel="prefetch" href="/notes/assets/js/411.30a6778b.js"><link rel="prefetch" href="/notes/assets/js/412.5b5fbb7a.js"><link rel="prefetch" href="/notes/assets/js/413.37b4db3c.js"><link rel="prefetch" href="/notes/assets/js/414.41f671f5.js"><link rel="prefetch" href="/notes/assets/js/415.5797eb0a.js"><link rel="prefetch" href="/notes/assets/js/416.5ec4dc00.js"><link rel="prefetch" href="/notes/assets/js/417.471b2657.js"><link rel="prefetch" href="/notes/assets/js/418.93bf4420.js"><link rel="prefetch" href="/notes/assets/js/419.483e75ac.js"><link rel="prefetch" href="/notes/assets/js/42.cefe7a26.js"><link rel="prefetch" href="/notes/assets/js/420.56ce2d80.js"><link rel="prefetch" href="/notes/assets/js/421.b1ed157a.js"><link rel="prefetch" href="/notes/assets/js/422.04adcf20.js"><link rel="prefetch" href="/notes/assets/js/423.4ef69085.js"><link rel="prefetch" href="/notes/assets/js/424.ee6c15ef.js"><link rel="prefetch" href="/notes/assets/js/425.ae40528c.js"><link rel="prefetch" href="/notes/assets/js/426.2ff5016e.js"><link rel="prefetch" href="/notes/assets/js/427.074660ad.js"><link rel="prefetch" href="/notes/assets/js/428.2eda923b.js"><link rel="prefetch" href="/notes/assets/js/429.2a6e7e7b.js"><link rel="prefetch" href="/notes/assets/js/43.bfaf3f9b.js"><link rel="prefetch" href="/notes/assets/js/430.f0fd4c44.js"><link rel="prefetch" href="/notes/assets/js/431.4c505b64.js"><link rel="prefetch" href="/notes/assets/js/432.2a188436.js"><link rel="prefetch" href="/notes/assets/js/433.8610f4fb.js"><link rel="prefetch" href="/notes/assets/js/434.ec313029.js"><link rel="prefetch" href="/notes/assets/js/435.0c6c1f6a.js"><link rel="prefetch" href="/notes/assets/js/436.2a3487db.js"><link rel="prefetch" href="/notes/assets/js/437.d132d27c.js"><link rel="prefetch" href="/notes/assets/js/438.ff4142c6.js"><link rel="prefetch" href="/notes/assets/js/439.0c474ccb.js"><link rel="prefetch" href="/notes/assets/js/44.d3333975.js"><link rel="prefetch" href="/notes/assets/js/440.7b882d15.js"><link rel="prefetch" href="/notes/assets/js/441.ab1bf371.js"><link rel="prefetch" href="/notes/assets/js/442.134f0456.js"><link rel="prefetch" href="/notes/assets/js/443.c6393d96.js"><link rel="prefetch" href="/notes/assets/js/444.2c9b16f1.js"><link rel="prefetch" href="/notes/assets/js/445.6decb9e1.js"><link rel="prefetch" href="/notes/assets/js/446.d6fccd3e.js"><link rel="prefetch" href="/notes/assets/js/447.90f4ab24.js"><link rel="prefetch" href="/notes/assets/js/448.55d87002.js"><link rel="prefetch" href="/notes/assets/js/449.308c7f75.js"><link rel="prefetch" href="/notes/assets/js/45.e63f1fc2.js"><link rel="prefetch" href="/notes/assets/js/450.72f5279e.js"><link rel="prefetch" href="/notes/assets/js/451.26d6e91c.js"><link rel="prefetch" href="/notes/assets/js/452.3184fdb4.js"><link rel="prefetch" href="/notes/assets/js/453.9d6d9af6.js"><link rel="prefetch" href="/notes/assets/js/454.f03ce01d.js"><link rel="prefetch" href="/notes/assets/js/455.f6fbc7a5.js"><link rel="prefetch" href="/notes/assets/js/456.cb5a72dd.js"><link rel="prefetch" href="/notes/assets/js/457.83d89808.js"><link rel="prefetch" href="/notes/assets/js/458.a4761ae2.js"><link rel="prefetch" href="/notes/assets/js/459.0a453ce2.js"><link rel="prefetch" href="/notes/assets/js/46.285c38fe.js"><link rel="prefetch" href="/notes/assets/js/460.39470724.js"><link rel="prefetch" href="/notes/assets/js/461.d84eac44.js"><link rel="prefetch" href="/notes/assets/js/462.2542bb78.js"><link rel="prefetch" href="/notes/assets/js/463.9b5715d0.js"><link rel="prefetch" href="/notes/assets/js/464.f9215414.js"><link rel="prefetch" href="/notes/assets/js/465.c6571f8d.js"><link rel="prefetch" href="/notes/assets/js/466.10c3a729.js"><link rel="prefetch" href="/notes/assets/js/467.917690aa.js"><link rel="prefetch" href="/notes/assets/js/468.e4e05fb0.js"><link rel="prefetch" href="/notes/assets/js/469.6ee1f0bf.js"><link rel="prefetch" href="/notes/assets/js/47.e179b803.js"><link rel="prefetch" href="/notes/assets/js/470.109daa98.js"><link rel="prefetch" href="/notes/assets/js/471.20e17539.js"><link rel="prefetch" href="/notes/assets/js/472.de465397.js"><link rel="prefetch" href="/notes/assets/js/473.697bece5.js"><link rel="prefetch" href="/notes/assets/js/474.c0500f50.js"><link rel="prefetch" href="/notes/assets/js/475.7a0de490.js"><link rel="prefetch" href="/notes/assets/js/476.3b6c2663.js"><link rel="prefetch" href="/notes/assets/js/477.fe61522a.js"><link rel="prefetch" href="/notes/assets/js/478.b33a7744.js"><link rel="prefetch" href="/notes/assets/js/479.29224709.js"><link rel="prefetch" href="/notes/assets/js/48.f6ca3943.js"><link rel="prefetch" href="/notes/assets/js/49.574091cd.js"><link rel="prefetch" href="/notes/assets/js/5.a09c7da9.js"><link rel="prefetch" href="/notes/assets/js/50.3a0ff583.js"><link rel="prefetch" href="/notes/assets/js/51.57db0225.js"><link rel="prefetch" href="/notes/assets/js/52.0ecf5693.js"><link rel="prefetch" href="/notes/assets/js/53.1f76ee65.js"><link rel="prefetch" href="/notes/assets/js/54.abcb27d8.js"><link rel="prefetch" href="/notes/assets/js/55.2e25c2d0.js"><link rel="prefetch" href="/notes/assets/js/56.bb6f65a5.js"><link rel="prefetch" href="/notes/assets/js/57.da9a0590.js"><link rel="prefetch" href="/notes/assets/js/58.1835be90.js"><link rel="prefetch" href="/notes/assets/js/59.af675de6.js"><link rel="prefetch" href="/notes/assets/js/6.3cd82c9a.js"><link rel="prefetch" href="/notes/assets/js/60.0ef43601.js"><link rel="prefetch" href="/notes/assets/js/61.c74e9f39.js"><link rel="prefetch" href="/notes/assets/js/62.1bedfdf6.js"><link rel="prefetch" href="/notes/assets/js/63.a0deef5f.js"><link rel="prefetch" href="/notes/assets/js/64.382724a8.js"><link rel="prefetch" href="/notes/assets/js/65.89029c37.js"><link rel="prefetch" href="/notes/assets/js/66.81ca5639.js"><link rel="prefetch" href="/notes/assets/js/67.cbbb38d7.js"><link rel="prefetch" href="/notes/assets/js/68.000bfd35.js"><link rel="prefetch" href="/notes/assets/js/69.c2d07d56.js"><link rel="prefetch" href="/notes/assets/js/7.7d6ad91c.js"><link rel="prefetch" href="/notes/assets/js/70.217180de.js"><link rel="prefetch" href="/notes/assets/js/71.98765c00.js"><link rel="prefetch" href="/notes/assets/js/72.1c955ea7.js"><link rel="prefetch" href="/notes/assets/js/73.d2706f61.js"><link rel="prefetch" href="/notes/assets/js/74.60cc2008.js"><link rel="prefetch" href="/notes/assets/js/75.4b361813.js"><link rel="prefetch" href="/notes/assets/js/76.38d96cc9.js"><link rel="prefetch" href="/notes/assets/js/77.438af426.js"><link rel="prefetch" href="/notes/assets/js/78.bcd8b2ed.js"><link rel="prefetch" href="/notes/assets/js/79.f5f68b99.js"><link rel="prefetch" href="/notes/assets/js/8.d3bec3c0.js"><link rel="prefetch" href="/notes/assets/js/80.56ed8ba9.js"><link rel="prefetch" href="/notes/assets/js/81.f8dbf3cf.js"><link rel="prefetch" href="/notes/assets/js/82.e794a34b.js"><link rel="prefetch" href="/notes/assets/js/83.e2c87fbb.js"><link rel="prefetch" href="/notes/assets/js/84.1afc1456.js"><link rel="prefetch" href="/notes/assets/js/85.b7c7c05b.js"><link rel="prefetch" href="/notes/assets/js/86.f3a12e4c.js"><link rel="prefetch" href="/notes/assets/js/87.4cd44f76.js"><link rel="prefetch" href="/notes/assets/js/88.57dc2780.js"><link rel="prefetch" href="/notes/assets/js/89.f604b335.js"><link rel="prefetch" href="/notes/assets/js/9.e1f148ec.js"><link rel="prefetch" href="/notes/assets/js/90.6ee867a3.js"><link rel="prefetch" href="/notes/assets/js/91.d509a153.js"><link rel="prefetch" href="/notes/assets/js/92.dbe29fc9.js"><link rel="prefetch" href="/notes/assets/js/93.00a12f11.js"><link rel="prefetch" href="/notes/assets/js/94.b910d5ad.js"><link rel="prefetch" href="/notes/assets/js/95.f2f8c392.js"><link rel="prefetch" href="/notes/assets/js/96.846bfa91.js"><link rel="prefetch" href="/notes/assets/js/97.2aaef136.js"><link rel="prefetch" href="/notes/assets/js/98.2fc7c21e.js"><link rel="prefetch" href="/notes/assets/js/99.c571e816.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.db9e9bf4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">我的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/guide/" class="nav-link">
  指南
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/guide/" class="nav-link">
  指南
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Gradle 入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/gradle/" aria-current="page" class="sidebar-link">Gradle 简介</a></li><li><a href="/notes/gradle/常见的项目构建工具.html" class="sidebar-link">常见的项目构建工具</a></li><li><a href="/notes/gradle/Gradle 安装.html" class="sidebar-link">Gradle 安装</a></li><li><a href="/notes/gradle/Gradle 项目目录结构.html" class="sidebar-link">Gradle 项目目录结构</a></li><li><a href="/notes/gradle/创建 Gradle 项目.html" class="sidebar-link">创建 Gradle 项目</a></li><li><a href="/notes/gradle/修改 Maven 下载源.html" class="sidebar-link">修改 Maven 下载源</a></li><li><a href="/notes/gradle/Wrapper 包装器.html" class="sidebar-link">Wrapper 包装器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Gradle 与 IDEA 整合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/gradle/Groovy 简介.html" class="sidebar-link">Groovy 简介</a></li><li><a href="/notes/gradle/安装 Groovy.html" class="sidebar-link">安装 Groovy</a></li><li><a href="/notes/gradle/创建 Groovy 项目.html" class="sidebar-link">创建 Groovy 项目</a></li><li><a href="/notes/gradle/Groovy 基本语法.html" class="sidebar-link">Groovy 基本语法</a></li><li><a href="/notes/gradle/在 IDEA 中创建普通 Java 工程.html" class="sidebar-link">在 IDEA 中创建普通 Java 工程</a></li><li><a href="/notes/gradle/在 IDEA 中创建普通 WEB 项目.html" class="sidebar-link">在 IDEA 中创建普通 WEB 项目</a></li><li><a href="/notes/gradle/项目部署.html" class="sidebar-link">项目部署</a></li><li><a href="/notes/gradle/Gradle 对测试支持.html" class="sidebar-link">Gradle 对测试支持</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Gradle 进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/gradle/项目的生命周期.html" class="sidebar-link">项目的生命周期</a></li><li><a href="/notes/gradle/Settings 文件.html" class="sidebar-link">Settings 文件</a></li><li><a href="/notes/gradle/Task.html" aria-current="page" class="active sidebar-link">Task</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务入门" class="sidebar-link">任务入门</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的行为" class="sidebar-link">任务的行为</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的依赖方式" class="sidebar-link">任务的依赖方式</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务执行" class="sidebar-link">任务执行</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务定义方式" class="sidebar-link">任务定义方式</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务类型" class="sidebar-link">任务类型</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的执行顺序" class="sidebar-link">任务的执行顺序</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#动态分配任务" class="sidebar-link">动态分配任务</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的关闭与开启" class="sidebar-link">任务的关闭与开启</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的超时" class="sidebar-link">任务的超时</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的查找" class="sidebar-link">任务的查找</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的规则" class="sidebar-link">任务的规则</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#任务的-onlyif-断言" class="sidebar-link">任务的 onlyIf 断言</a></li><li class="sidebar-sub-header"><a href="/notes/gradle/Task.html#默认任务" class="sidebar-link">默认任务</a></li></ul></li><li><a href="/notes/gradle/Gradle 中的文件操作.html" class="sidebar-link">Gradle 中的文件操作</a></li><li><a href="/notes/gradle/Dependencies.html" class="sidebar-link">Dependencies</a></li><li><a href="/notes/gradle/Gradle 插件.html" class="sidebar-link">Gradle 插件</a></li><li><a href="/notes/gradle/Build.gradle 文件.html" class="sidebar-link">Build.gradle 文件</a></li><li><a href="/notes/gradle/Publishing 项目发布.html" class="sidebar-link">Publishing 项目发布</a></li><li><a href="/notes/gradle/生命周期中 Hook.html" class="sidebar-link">生命周期中 Hook</a></li><li><a href="/notes/gradle/创建 Springboot 项目.html" class="sidebar-link">创建 Springboot 项目</a></li><li><a href="/notes/gradle/基于 SSM 多模块项目案例.html" class="sidebar-link">基于 SSM 多模块项目案例</a></li><li><a href="/notes/gradle/微服务实战.html" class="sidebar-link">微服务实战</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="task"><a href="#task" class="header-anchor">#</a> Task</h1> <p>项目实质上是 Task 对象的集合。一个 Task 表示一个逻辑上较为独立的执行过程，比如编译 Java 源代码，拷贝文件，打包 Jar 文件，甚至可以是执行一个系统命令。另外，一个 Task 可以读取和设置 Project 的 Property 以完成特定的操作。</p> <h2 id="任务入门"><a href="#任务入门" class="header-anchor">#</a> 任务入门</h2> <p><a href="https://docs.gradle.org/current/userguide/tutorial_using_tasks.html" target="_blank" rel="noopener noreferrer">Build Script Basics (gradle.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task A <span class="token punctuation">{</span>
    println <span class="token string gstring">&quot;root taskA&quot;</span>
    <span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;root taskA doFirst&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token function">doLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;root taskA doLast&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在文件所在的目录执行命令: gradle A。
提示 1 :task 的配置段是在配置阶段完成
提示 2 :task 的 doFirst、doLast 方法是执行阶段完成，并且 doFirst 在 doLast 执行之前执行。
提示 3:区分任务的配置段和任务的行为,任务的配置段在配置阶段执行,任务的行为在执行阶段执行</p> <h2 id="任务的行为"><a href="#任务的行为" class="header-anchor">#</a> 任务的行为</h2> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token keyword">def</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//action属性可以设置为闭包， 设置task自身的行为</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string gstring">&quot;action&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> println <span class="token string gstring">&quot;taskD..&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">task</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token string gstring">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    description <span class="token string">'taskA description....'</span>
    group <span class="token string gstring">&quot;dfd&quot;</span>
<span class="token comment">//在task内部定义doFirst、 doLast行为</span>
    doFirst <span class="token punctuation">{</span>
        <span class="token keyword">def</span> name <span class="token operator">=</span> <span class="token string">'doFirst..'</span>
        println name
    <span class="token punctuation">}</span>
    doLast <span class="token punctuation">{</span>
        <span class="token keyword">def</span> name <span class="token operator">=</span> <span class="token string">'doLast..'</span>
        println name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//在task外部定义doFirst、 doLast行为</span>
a<span class="token punctuation">.</span>doFirst <span class="token punctuation">{</span>
    println it<span class="token punctuation">.</span>description
<span class="token punctuation">}</span>
a<span class="token punctuation">.</span>doLast <span class="token punctuation">{</span>
    println it<span class="token punctuation">.</span>group
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/notes/assets/img/Snipaste_2022-09-01_10-30-12.cd761988.png" alt=""></p> <p><strong>底层原理分析</strong>：无论是定义任务自身的 action，还是添加的 doLast、doFirst 方法，其实底层都被放入到一个 Action 的 List中了，最初这个 action List 是空的，当我们设置了 action【任务自身的行为】,它先将 action 添加到列表中，此时列表中只有一个 action,后续执行 doFirst 的时候 doFirst 在 action 前面添加，执行 doLast 的时候 doLast 在 action 后面添加。<font color="red">doFirst永远添加在 actions List 的第一位</font>，保证添加的 Action 在现有的 action List 元素的最前面；<font color="red">doLast 永远都是在 action List末尾添加</font>，保证其添加的 Action 在现有的 action List 元素的最后面。一个往前面添加,一个往后面添加，<font color="red">最后这个 action List 就按顺序形成了 doFirst、doSelf、doLast 三部分的 Actions，就达到 doFirst、doSelf、doLast 三部分的 Actions 顺序执行的目的。</font></p> <h2 id="任务的依赖方式"><a href="#任务的依赖方式" class="header-anchor">#</a> 任务的依赖方式</h2> <p>Task 之间的依赖关系可以在以下几部分设置：</p> <ol><li>参数依赖</li> <li>内部依赖</li> <li>外部依赖</li></ol> <p>方式一：参数方式依赖</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task A <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;TaskA..&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
task <span class="token string">'B'</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;TaskB..&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//参数方式依赖: dependsOn后面用冒号</span>
task <span class="token string">'C'</span><span class="token punctuation">(</span>dependsOn<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;TaskC..&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>方式二：内部依赖</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token comment">//参数方式依赖</span>
task <span class="token string">'C'</span> <span class="token punctuation">{</span>
<span class="token comment">//内部依赖：dependsOn后面用 = 号</span>
    dependsOn <span class="token operator">=</span> <span class="token punctuation">[</span>A<span class="token punctuation">,</span> B<span class="token punctuation">]</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;TaskC..&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>方式三：外部依赖</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token comment">//外部依赖:可变参数,引号可加可不加</span>
C<span class="token punctuation">.</span><span class="token function">dependsOn</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>当然：task 也支持跨项目依赖</strong></p> <p>在 subproject01 工程的 build.gradle 文件中定义</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task A <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;TaskA..&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在 subproject02 工程的 build.gradle 文件中定义</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task B <span class="token punctuation">{</span>
    <span class="token function">dependsOn</span><span class="token punctuation">(</span><span class="token string gstring">&quot;:subproject01:A&quot;</span><span class="token punctuation">)</span> <span class="token comment">//依赖根工程下的subject01中的任务A ： 跨项目依赖。</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;TaskB..&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>测试：gradle B ,控制台显示如下</p> <p><img src="/notes/assets/img/Snipaste_2022-09-01_11-03-34.daf99488.png" alt=""></p> <p><font color="red">拓展 1：当一个 Task 依赖多个 Task 的时候，被依赖的 Task 之间如果没有依赖关系，那么它们的执行顺序是随机的,并无影响。</font></p> <p><font color="red">拓展 2：重复依赖的任务只会执行一次,比如：</font>
A -&gt; B、C
B -&gt; C
任务 A 依赖任务 B 和任务 C、任务 B 依赖 C 任务。执行任务 A 的时候，显然任务 C 被重复依赖了，C 只会执行一次。</p> <h2 id="任务执行"><a href="#任务执行" class="header-anchor">#</a> 任务执行</h2> <p>任务执行语法：<font color="#317eff">gradle [taskName...] [--option-name...]</font></p> <table><thead><tr><th>分类</th> <th>解释</th></tr></thead> <tbody><tr><td>常见的任务（*）</td> <td>gradle build: 构建项目:编译、测试、打包等操作<br>gradle run :运行一个服务,需要 application 插件支持，并且指定了主启动类才能运行 <br>gradle clean: 请求当前项目的 build 目录 <br>gradle init : 初始化 gradle 项目使用 <br>gradle wrapper:生成 wrapper 文件夹的。<br> gradle wrapper 升级 wrapper 版本号：gradle wrapper --gradle-version=4.4 <br>gradle wrapper --gradle-version 5.2.1 --distribution-type all :关联源码用</td></tr> <tr><td>项目报告相关任务</td> <td>gradle projects : 列出所选项目及子项目列表，以层次结构的形式显示 <br>gradle tasks: 列出所选项目【当前 project,不包含父、子】的已分配给任务组的那些任务。 <br>gradle tasks --all :列出所选项目的所有任务。 <br>gradle tasks --group=&quot;build setup&quot;:列出所选项目中指定分组中的任务。 <br>gradle help --task someTask :显示某个任务的详细信息 <br>gradle dependencies :查看整个项目的依赖信息，以依赖树的方式显示 <br>gradle properties 列出所选项目的属性列表</td></tr> <tr><td>调试相关选项</td> <td>-h,--help: 查看帮助信息 <br>-v, --version:打印 Gradle、 Groovy、 Ant、 JVM 和操作系统版本信息。 <br>-S, --full-stacktrace:打印出所有异常的完整(非常详细)堆栈跟踪信息。 <br>-s,--stacktrace: 打印出用户异常的堆栈跟踪(例如编译错误)。 <br>-Dorg.gradle.daemon.debug=true: 调试 Gradle 守护进程。 <br>-Dorg.gradle.debug=true:调试 Gradle 客户端(非 daemon)进程。 <br>-Dorg.gradle.debug.port=(port number):指定启用调试时要侦听的端口号。默认值为 5005。</td></tr> <tr><td>性能选项:【备注:在 gradle.properties 中指定这些选项中的许多 选项，因此不需要命 令行标志】</td> <td>--build-cache, --no-build-cache： 尝试重用先前版本的输出。默认关闭(off)。 <br>--max-workers: 设置 Gradle 可以使用的 woker 数。默认值是处理器数。 <br>-parallel, --no-parallel: 并行执行项目。有关此选项的限制，请参阅并行项目执行。 默认设置为关闭(off)</td></tr> <tr><td>守护进程选项</td> <td>--daemon, --no-daemon: 使用 Gradle 守护进程运行构建。默认是 on <br>--foreground:在前台进程中启动 Gradle 守护进程。 <br>-Dorg.gradle.daemon.idletimeout=(number of milliseconds): Gradle Daemon 将在这个空闲时间的毫秒数之后停止自己。默认值为 10800000(3 小时)。</td></tr> <tr><td>日志选项</td> <td>-Dorg.gradle.logging.level=(quiet,warn,lifecycle,info,debug): 通过 Gradle 属性设置日志记录级别。 <br>-q, --quiet: 只能记录错误信息 <br>-w, --warn: 设置日志级别为 warn <br>-i, --info: 将日志级别设置为 info <br>-d, --debug:登录调试模式(包括正常的堆栈跟踪)</td></tr> <tr><td>其它(*)</td> <td>-x:-x 等价于: --exclude-task : 常见 gradle -x test clean build <br>--rerun-tasks: 强制执行任务，忽略 up-to-date ,常见 gradle build --rerun-tasks <br>--continue: 忽略前面失败的任务,继续执行,而不是在遇到第一个失败时立即停止执行。每 个遇到的故障都将在构建结束时报告，常见：gradle build --continue。 <br>gradle init --type pom :将 maven 项目转换为 gradle 项目(根目录执行) <br>gradle [taskName] :执行自定义任务</td></tr></tbody></table> <p><a href="https://docs.gradle.org/current/userguide/command_line_interface.html#sec:command_line_executing_tasks" target="_blank" rel="noopener noreferrer">Command-Line Interface (gradle.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>拓展 1：gradle 任务名是缩写: 任务名支持驼峰式命名风格的任务名缩写，如：connectTask 简写为：cT,执行任务 gradle cT。</p> <p>拓展 2:前面提到的 Gradle 指令本质:一个个的 task[任务], Gradle 中所有操作都是基于任务完成的。</p> <p>拓展 3：gradle 默认各指令之间相互的依赖关系：</p> <p><img src="/notes/assets/img/Snipaste_2022-09-02_11-19-55.e5d6c0fa.png" alt=""></p></blockquote> <h2 id="任务定义方式"><a href="#任务定义方式" class="header-anchor">#</a> 任务定义方式</h2> <p>任务定义方式，总体分为两大类：一种是通过 Project 中的 task() 方法，另一种是通过 tasks 对象的 create 或者 register 方法。</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token comment">//任务名称,闭包都作为参数</span>
    println <span class="token string gstring">&quot;taskA...&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//闭包作为最后一个参数可以直接从括号中拿出来</span>
    println <span class="token string gstring">&quot;taskB...&quot;</span>
<span class="token punctuation">}</span>

task C <span class="token punctuation">{</span><span class="token comment">//groovy语法支持省略方法括号:上面三种本质是一种</span>
    println <span class="token string gstring">&quot;taskC...&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">def</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string gstring">&quot;action&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> println <span class="token string gstring">&quot;taskD..&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//action属性可以设置为闭包</span>

<span class="token function">task</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token string gstring">&quot;D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

tasks<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//使用tasks的create方法</span>
    println <span class="token string gstring">&quot;taskE..&quot;</span>
<span class="token punctuation">}</span>

tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'f'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//注：register执行的是延迟创建。也即只有当task被需要使用的时候才会被创建。</span>
    println <span class="token string gstring">&quot;taskF....&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当然：我们也可以在定义任务的同时指定任务的属性，具体属性有：</p> <table><thead><tr><th>配置项</th> <th>描述</th> <th>默认值</th></tr></thead> <tbody><tr><td>type</td> <td>基于一个存在的Task来创建，和我们类继承差不多</td> <td>DefaultTask</td></tr> <tr><td>overwrite</td> <td>是否替换存在的Task，这个和type配合起来用</td> <td>false</td></tr> <tr><td>dependsOn</td> <td>用于配置任务的依赖</td> <td>[]</td></tr> <tr><td>action</td> <td>添加到任务中的一个Action或者闭包</td> <td>null</td></tr> <tr><td>description</td> <td>用于配置任务的描述</td> <td>null</td></tr> <tr><td>group</td> <td>用于配置任务的分组</td> <td>null</td></tr></tbody></table> <p><font color="red">在定义任务时也可以给任务分配属性</font>：定义任务的时候可以直接指定任务属性，也可以给已有的任务动态分配属性：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token comment">//1.F是任务名，前面通过具名参数给map的属性赋值,以参数方式指定任务的属性信息</span>
<span class="token function">task</span><span class="token punctuation">(</span>group<span class="token punctuation">:</span> <span class="token string gstring">&quot;dfd&quot;</span><span class="token punctuation">,</span> description<span class="token punctuation">:</span> <span class="token string gstring">&quot;this is task B&quot;</span><span class="token punctuation">,</span> <span class="token string gstring">&quot;F&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//2.H是任务名，定义任务的同时，在内部直接指定属性信息</span>
<span class="token function">task</span><span class="token punctuation">(</span><span class="token string gstring">&quot;H&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">group</span><span class="token punctuation">(</span><span class="token string gstring">&quot;dfd&quot;</span><span class="token punctuation">)</span>
    <span class="token function">description</span><span class="token punctuation">(</span><span class="token string gstring">&quot;this is the task H&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//3.Y是任务名，给已有的任务 在外部直接指定属性信息</span>
task <span class="token string gstring">&quot;y&quot;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
y<span class="token punctuation">.</span>group <span class="token operator">=</span> <span class="token string gstring">&quot;dfd&quot;</span>
clean<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string gstring">&quot;dfd&quot;</span><span class="token punctuation">)</span> <span class="token comment">//案例：给已有的clean任务重新指定组信息</span>
</code></pre></div><p>可以在 idea 中看到: <font color="red">上面自定义的那几个任务和 gradle 自带的 clean 任务已经跑到：dfd 组了。</font></p> <p><img src="/notes/assets/img/Snipaste_2022-09-05_14-37-40.c17224e2.png" alt=""></p> <h2 id="任务类型"><a href="#任务类型" class="header-anchor">#</a> 任务类型</h2> <p>前面我们定义的 task 都是 DefaultTask 类型的,如果要完成某些具体的操作完全需要我们自己去编写 gradle 脚本，势必有些麻烦，那有没有一些现成的任务类型可以使用呢？有的，Gradle 官网给出了一些现成的任务类型帮助我们快速完成想要的任务，我们只需要在创建任务的时候，指定当前任务的类型即可，然后即可使用这种类型中的属性和 API 方法了。</p> <table><thead><tr><th>常见任务类型</th> <th>该类型任务的作用</th></tr></thead> <tbody><tr><td>Delete</td> <td>删除文件或目录</td></tr> <tr><td>Copy</td> <td>将文件复制到目标目录中。此任务还可以在复制时重命名和筛选文件</td></tr> <tr><td>CreateStartScripts</td> <td>创建启动脚本</td></tr> <tr><td>Exec</td> <td>执行命令行进程</td></tr> <tr><td>GenerateMavenPom</td> <td>生成 Maven 模块描述符(POM)文件</td></tr> <tr><td>GradleBuild</td> <td>执行 Gradle 构建</td></tr> <tr><td>Jar</td> <td>组装 JAR 归档文件</td></tr> <tr><td>JavaCompile</td> <td>编译 Java 源文件</td></tr> <tr><td>Javadoc</td> <td>为 Java 类生成 HTML API 文档</td></tr> <tr><td>PublishToMavenRepository</td> <td>将 MavenPublication 发布到 mavenartifactrepostal</td></tr> <tr><td>Tar</td> <td>组装 TAR 存档文件</td></tr> <tr><td>Test</td> <td>执行 JUnit (3.8.x、4.x 或 5.x)或 TestNG 测试</td></tr> <tr><td>Upload</td> <td>将 Configuration 的构件上传到一组存储库</td></tr> <tr><td>War</td> <td>组装 WAR 档案</td></tr> <tr><td>Zip</td> <td>组装 ZIP 归档文件。默认是压缩 ZIP 的内容</td></tr></tbody></table> <p><a href="https://docs.gradle.org/current/dsl/index.html" target="_blank" rel="noopener noreferrer">Gradle DSL Version 7.5.1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>具体使用例如：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'myClean'</span><span class="token punctuation">,</span> Delete<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    delete buildDir
<span class="token punctuation">}</span>
</code></pre></div><p>在命令行执行 <code>gradle myClean</code> 发现就可以将当前 project 的 build 目录删除。</p> <p>当然除了 gradle 自带的 task 类型,我们也可以自定义 task 类型：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token keyword">def</span> myTask <span class="token operator">=</span> task <span class="token function">MyDefinitionTask</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> CustomTask<span class="token punctuation">)</span>
myTask<span class="token punctuation">.</span><span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    println <span class="token string gstring">&quot;task 执行之前 执行的 doFirst方法&quot;</span>
<span class="token punctuation">}</span>
myTask<span class="token punctuation">.</span><span class="token function">doLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    println <span class="token string gstring">&quot;task 执行之后 执行的 doLast方法&quot;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CustomTask</span> <span class="token keyword">extends</span> <span class="token class-name">DefaultTask</span> <span class="token punctuation">{</span>
<span class="token comment">//@TaskAction表示Task本身要执行的方法</span>
    <span class="token annotation punctuation">@TaskAction</span>
    <span class="token keyword">def</span> <span class="token function">doSelf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;Task 自身 在执行的in doSelf&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>测试：<code>gradle MyDefinitionTask</code></p> <p><img src="/notes/assets/img/Snipaste_2022-09-05_15-38-29.304499c0.png" alt=""></p> <h2 id="任务的执行顺序"><a href="#任务的执行顺序" class="header-anchor">#</a> 任务的执行顺序</h2> <p>在 Gradle 中,有三种方式可以指定 Task 执行顺序：</p> <ol><li><p>dependsOn 强依赖方式</p></li> <li><p>通过 Task 输入输出</p></li> <li><p>通过 API 指定执行顺序</p></li></ol> <p>详细请参考官网：<a href="https://docs.gradle.org/current/dsl/org.gradle.api.Task.html" target="_blank" rel="noopener noreferrer">Task - Gradle DSL Version 7.5.1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="动态分配任务"><a href="#动态分配任务" class="header-anchor">#</a> 动态分配任务</h2> <p>gradle 的强大功能不仅仅用于定义任务的功能。例如，可以使用它在循环中注册同一类型的多个任务</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token number">4</span><span class="token punctuation">.</span>times <span class="token punctuation">{</span> counter <span class="token operator">-&gt;</span>
    tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string gstring">&quot;task<span class="token expression"><span class="token punctuation">$</span>counter</span>&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        doLast <span class="token punctuation">{</span>
            println <span class="token string gstring">&quot;I'm task number <span class="token expression"><span class="token punctuation">$</span>counter</span>&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 构建 4 个任务,但是任务 0 必须依赖于任务 2 和 3,那么代表任务 2 和 3 需要在任务 0 之前优先加载。</span>
tasks<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span><span class="token string">'task0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">dependsOn</span><span class="token punctuation">(</span><span class="token string">'task2'</span><span class="token punctuation">,</span> <span class="token string">'task3'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre></div><p>使用<code>gradle -q task0</code>执行</p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="任务的关闭与开启"><a href="#任务的关闭与开启" class="header-anchor">#</a> 任务的关闭与开启</h2> <p>每个任务都有一个<font color="red"> enabled </font>默认为的标志<font color="red"> true </font>。将其设置为 <font color="red"> false</font>阻止执行任何任务动作。禁用的任务将标记为<font color="red"> 跳过 </font>。</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task disableMe <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string">'This task is Executing...'</span>
    <span class="token punctuation">}</span>
    <span class="token function">enabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//直接设置任务开启， 默认值为true</span>
<span class="token punctuation">}</span>
<span class="token comment">//disableMe.enabled = false //设置关闭任务</span>
</code></pre></div><h2 id="任务的超时"><a href="#任务的超时" class="header-anchor">#</a> 任务的超时</h2> <p>每个任务都有一个 timeout 可用于限制其执行时间的属性。当任务达到超时时，其任务执行线程将被中断。该任务将被标记为失败。终结器任务仍将运行。如果 --continue 使用，其他任务可以在此之后继续运行。不响应中断的任务无法超时。Gradle 的所有内置任务均会及时响应超时。</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
        println <span class="token string gstring">&quot;当前任务a执行了&quot;</span>
    <span class="token punctuation">}</span>
    timeout <span class="token operator">=</span> Duration<span class="token punctuation">.</span><span class="token function">ofMillis</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
task <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;当前任务b执行了&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在控制台使用: gradle a b 测试会发现执行 a 的时候,由于 a 执行超时，抛出异常，所以没有继续往下执行【b 也没执行】。然后在控制台使用: gradle a b –continue,测试会发现 a 虽然执行失败，但是 b 还是执行了  。</p> <h2 id="任务的查找"><a href="#任务的查找" class="header-anchor">#</a> 任务的查找</h2> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task dongdong <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;东东很大&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//根据任务名查找</span>
tasks<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span><span class="token string gstring">&quot;dongdong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token punctuation">{</span> println <span class="token string gstring">&quot;东东好大啊&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
tasks<span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string gstring">&quot;dongdong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token punctuation">{</span> println <span class="token string gstring">&quot;东东巨大啊&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//根据任务路径查找【相对路径】</span>
tasks<span class="token punctuation">.</span><span class="token function">findByPath</span><span class="token punctuation">(</span><span class="token string gstring">&quot;:dongdong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token punctuation">{</span> println <span class="token string gstring">&quot;东东好最啊&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
tasks<span class="token punctuation">.</span><span class="token function">getByPath</span><span class="token punctuation">(</span><span class="token string gstring">&quot;:dongdong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token punctuation">{</span> println <span class="token string gstring">&quot;东东好小啊&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <h2 id="任务的规则"><a href="#任务的规则" class="header-anchor">#</a> 任务的规则</h2> <p>当我们执行、依赖一个不存在的任务时，Gradle 会执行失败,报错误信息。那我们能否对其进行改进,当执行一个不存在的任务时，不是报错而是打印提示信息呢？</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task hello <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string">'hello 你好'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
tasks<span class="token punctuation">.</span><span class="token function">addRule</span><span class="token punctuation">(</span><span class="token string gstring">&quot;对该规则的一个描述，便于调试、查看等&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    String taskName <span class="token operator">-&gt;</span>
        <span class="token function">task</span><span class="token punctuation">(</span>taskName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            doLast <span class="token punctuation">{</span>
                println <span class="token string gstring">&quot;该<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">{</span>taskName<span class="token punctuation">}</span></span>任务不存在，请查证后再执行&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>测试: 使用 <font color="red">gradle abc hello</font> 进行测试,此时当 abc 任务不存在时，也不会报异常【不中断执行】而是提示自定义的规则信息，继续执行 hello 任务。此外，它还可以根据不同的规则动态创建需要的任务等情况 。</p> <h2 id="任务的-onlyif-断言"><a href="#任务的-onlyif-断言" class="header-anchor">#</a> 任务的 onlyIf 断言</h2> <p>断言就是一个条件表达式。Task 有一个 onlyIf 方法。它接受一个闭包作为参数，<font color="red">如果该闭包返回 true 则该任务执行，否则跳过</font>。这有很多用途，比如控制程序哪些情况下打什么包，什么时候执行单元测试，什么情况下执行单元测试的时候不执行网络测试等。具体案例如下所示：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>task hello <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string">'hello 东东'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//如果hello任务没有dd这个属性，就会执行</span>
hello<span class="token punctuation">.</span>onlyIf <span class="token punctuation">{</span> <span class="token operator">!</span>project<span class="token punctuation">.</span><span class="token function">hasProperty</span><span class="token punctuation">(</span><span class="token string">'dd'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
</code></pre></div><p>测试：通过-P 为 Project 添加 dd 属性。<code>gradle hello -Pdd</code></p> <h2 id="默认任务"><a href="#默认任务" class="header-anchor">#</a> 默认任务</h2> <p>Gradle 允许您定义一个或多个在没有指定其他任务时执行的默认任务。</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>defaultTasks <span class="token string">'myClean'</span><span class="token punctuation">,</span> <span class="token string">'myRun'</span>
tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'myClean'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string">'Default Cleaning!'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'myRun'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string">'Default Running!'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
tasks<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'other'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    doLast <span class="token punctuation">{</span>
        println <span class="token string gstring">&quot;I'm not a default task!&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="assets/Snipaste_2022-09-08_10-25-16.png" alt=""></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/14/2023, 1:18:45 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/gradle/Settings 文件.html" class="prev">
        Settings 文件
      </a></span> <span class="next"><a href="/notes/gradle/Gradle 中的文件操作.html">
        Gradle 中的文件操作
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/notes/assets/js/app.4394edef.js" defer></script><script src="/notes/assets/js/3.499ba1d5.js" defer></script><script src="/notes/assets/js/39.e9da77b7.js" defer></script>
  </body>
</html>
