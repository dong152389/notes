<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Zookeeper 如何实现分布式锁 | 我的笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/notes/favicon.ico">
    <script data-ad-client="ca-pub-4147143076931995" async="true" src="/notes//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="记录Java的学习过程">
    
    <link rel="preload" href="/notes/assets/css/0.styles.db9e9bf4.css" as="style"><link rel="preload" href="/notes/assets/js/app.4394edef.js" as="script"><link rel="preload" href="/notes/assets/js/3.499ba1d5.js" as="script"><link rel="preload" href="/notes/assets/js/11.e807a7ed.js" as="script"><link rel="prefetch" href="/notes/assets/js/1.38d69124.js"><link rel="prefetch" href="/notes/assets/js/10.a5dbd791.js"><link rel="prefetch" href="/notes/assets/js/100.855dee90.js"><link rel="prefetch" href="/notes/assets/js/101.5f61e033.js"><link rel="prefetch" href="/notes/assets/js/102.3469dfe6.js"><link rel="prefetch" href="/notes/assets/js/103.f97cd3c4.js"><link rel="prefetch" href="/notes/assets/js/104.d1be0323.js"><link rel="prefetch" href="/notes/assets/js/105.bff5ad21.js"><link rel="prefetch" href="/notes/assets/js/106.8bfda405.js"><link rel="prefetch" href="/notes/assets/js/107.fd4a3526.js"><link rel="prefetch" href="/notes/assets/js/108.ec803d12.js"><link rel="prefetch" href="/notes/assets/js/109.8bf97b71.js"><link rel="prefetch" href="/notes/assets/js/110.3cbf71f4.js"><link rel="prefetch" href="/notes/assets/js/111.d4476b7a.js"><link rel="prefetch" href="/notes/assets/js/112.3d5957bd.js"><link rel="prefetch" href="/notes/assets/js/113.f101f928.js"><link rel="prefetch" href="/notes/assets/js/114.b45be011.js"><link rel="prefetch" href="/notes/assets/js/115.36fae589.js"><link rel="prefetch" href="/notes/assets/js/116.9f5abe3a.js"><link rel="prefetch" href="/notes/assets/js/117.ea710cb4.js"><link rel="prefetch" href="/notes/assets/js/118.cc44a183.js"><link rel="prefetch" href="/notes/assets/js/119.58bcbadf.js"><link rel="prefetch" href="/notes/assets/js/12.b8e9ea0e.js"><link rel="prefetch" href="/notes/assets/js/120.38ae234a.js"><link rel="prefetch" href="/notes/assets/js/121.20e6693e.js"><link rel="prefetch" href="/notes/assets/js/122.9d14160c.js"><link rel="prefetch" href="/notes/assets/js/123.56e221ac.js"><link rel="prefetch" href="/notes/assets/js/124.80c6fac9.js"><link rel="prefetch" href="/notes/assets/js/125.b851edf2.js"><link rel="prefetch" href="/notes/assets/js/126.565b012b.js"><link rel="prefetch" href="/notes/assets/js/127.d7d6e0ea.js"><link rel="prefetch" href="/notes/assets/js/128.2242a066.js"><link rel="prefetch" href="/notes/assets/js/129.02e60c5d.js"><link rel="prefetch" href="/notes/assets/js/13.ee61224b.js"><link rel="prefetch" href="/notes/assets/js/130.869b1fef.js"><link rel="prefetch" href="/notes/assets/js/131.e7f3e93e.js"><link rel="prefetch" href="/notes/assets/js/132.29465758.js"><link rel="prefetch" href="/notes/assets/js/133.758d34b1.js"><link rel="prefetch" href="/notes/assets/js/134.b91b657f.js"><link rel="prefetch" href="/notes/assets/js/135.f22c78a9.js"><link rel="prefetch" href="/notes/assets/js/136.ff7a4dfb.js"><link rel="prefetch" href="/notes/assets/js/137.0217e3a6.js"><link rel="prefetch" href="/notes/assets/js/138.4530d752.js"><link rel="prefetch" href="/notes/assets/js/139.66f5ff99.js"><link rel="prefetch" href="/notes/assets/js/14.b0ee0bd3.js"><link rel="prefetch" href="/notes/assets/js/140.e98b7a29.js"><link rel="prefetch" href="/notes/assets/js/141.17370b53.js"><link rel="prefetch" href="/notes/assets/js/142.9171a17e.js"><link rel="prefetch" href="/notes/assets/js/143.123cb882.js"><link rel="prefetch" href="/notes/assets/js/144.a3ab3c1e.js"><link rel="prefetch" href="/notes/assets/js/145.df6095ce.js"><link rel="prefetch" href="/notes/assets/js/146.297a5691.js"><link rel="prefetch" href="/notes/assets/js/147.8b775c1d.js"><link rel="prefetch" href="/notes/assets/js/148.5d1953b6.js"><link rel="prefetch" href="/notes/assets/js/149.e86e91d0.js"><link rel="prefetch" href="/notes/assets/js/15.598de02e.js"><link rel="prefetch" href="/notes/assets/js/150.a98bca9c.js"><link rel="prefetch" href="/notes/assets/js/151.f29d3d49.js"><link rel="prefetch" href="/notes/assets/js/152.76982dca.js"><link rel="prefetch" href="/notes/assets/js/153.6cfba964.js"><link rel="prefetch" href="/notes/assets/js/154.cc02a668.js"><link rel="prefetch" href="/notes/assets/js/155.974eb41d.js"><link rel="prefetch" href="/notes/assets/js/156.ecf561d9.js"><link rel="prefetch" href="/notes/assets/js/157.79282e02.js"><link rel="prefetch" href="/notes/assets/js/158.bbd922f3.js"><link rel="prefetch" href="/notes/assets/js/159.89c0c986.js"><link rel="prefetch" href="/notes/assets/js/16.44d6776e.js"><link rel="prefetch" href="/notes/assets/js/160.baf9d921.js"><link rel="prefetch" href="/notes/assets/js/161.a9b8f635.js"><link rel="prefetch" href="/notes/assets/js/162.6d6a7ec5.js"><link rel="prefetch" href="/notes/assets/js/163.a3c7488c.js"><link rel="prefetch" href="/notes/assets/js/164.c9f0500c.js"><link rel="prefetch" href="/notes/assets/js/165.30411c9b.js"><link rel="prefetch" href="/notes/assets/js/166.bc3d5911.js"><link rel="prefetch" href="/notes/assets/js/167.c661fd7b.js"><link rel="prefetch" href="/notes/assets/js/168.cbc5ab9b.js"><link rel="prefetch" href="/notes/assets/js/169.5dee4e88.js"><link rel="prefetch" href="/notes/assets/js/17.d7b8971a.js"><link rel="prefetch" href="/notes/assets/js/170.9e2897f5.js"><link rel="prefetch" href="/notes/assets/js/171.057d9ad1.js"><link rel="prefetch" href="/notes/assets/js/172.fa910130.js"><link rel="prefetch" href="/notes/assets/js/173.4723064f.js"><link rel="prefetch" href="/notes/assets/js/174.8ad20ad0.js"><link rel="prefetch" href="/notes/assets/js/175.ad7ca5e6.js"><link rel="prefetch" href="/notes/assets/js/176.ddd3d12c.js"><link rel="prefetch" href="/notes/assets/js/177.5fb19a05.js"><link rel="prefetch" href="/notes/assets/js/178.8647fda3.js"><link rel="prefetch" href="/notes/assets/js/179.b08f05a2.js"><link rel="prefetch" href="/notes/assets/js/18.42070e39.js"><link rel="prefetch" href="/notes/assets/js/180.4013a5e3.js"><link rel="prefetch" href="/notes/assets/js/181.2ff5d065.js"><link rel="prefetch" href="/notes/assets/js/182.84cb537c.js"><link rel="prefetch" href="/notes/assets/js/183.f5eabd47.js"><link rel="prefetch" href="/notes/assets/js/184.a01b9e48.js"><link rel="prefetch" href="/notes/assets/js/185.e7d88f1a.js"><link rel="prefetch" href="/notes/assets/js/186.358a2348.js"><link rel="prefetch" href="/notes/assets/js/187.9c01f97b.js"><link rel="prefetch" href="/notes/assets/js/188.a26520e2.js"><link rel="prefetch" href="/notes/assets/js/189.e8101173.js"><link rel="prefetch" href="/notes/assets/js/19.deaea0cd.js"><link rel="prefetch" href="/notes/assets/js/190.4db66d1c.js"><link rel="prefetch" href="/notes/assets/js/191.c4fb68e3.js"><link rel="prefetch" href="/notes/assets/js/192.3898a6bb.js"><link rel="prefetch" href="/notes/assets/js/193.e1645fe5.js"><link rel="prefetch" href="/notes/assets/js/194.444e8222.js"><link rel="prefetch" href="/notes/assets/js/195.5a6c28d2.js"><link rel="prefetch" href="/notes/assets/js/196.70fb07df.js"><link rel="prefetch" href="/notes/assets/js/197.e0c5fd7e.js"><link rel="prefetch" href="/notes/assets/js/198.fff60e9b.js"><link rel="prefetch" href="/notes/assets/js/199.38151e80.js"><link rel="prefetch" href="/notes/assets/js/20.31d3a4b3.js"><link rel="prefetch" href="/notes/assets/js/200.746630e8.js"><link rel="prefetch" href="/notes/assets/js/201.c19c0234.js"><link rel="prefetch" href="/notes/assets/js/202.e3cbb9d0.js"><link rel="prefetch" href="/notes/assets/js/203.d433a129.js"><link rel="prefetch" href="/notes/assets/js/204.de75ac01.js"><link rel="prefetch" href="/notes/assets/js/205.55f064b3.js"><link rel="prefetch" href="/notes/assets/js/206.2e4c6536.js"><link rel="prefetch" href="/notes/assets/js/207.658b0485.js"><link rel="prefetch" href="/notes/assets/js/208.0414daa5.js"><link rel="prefetch" href="/notes/assets/js/209.a8c2b910.js"><link rel="prefetch" href="/notes/assets/js/21.998ed6e0.js"><link rel="prefetch" href="/notes/assets/js/210.aad4c8fc.js"><link rel="prefetch" href="/notes/assets/js/211.f116cd27.js"><link rel="prefetch" href="/notes/assets/js/212.f4628715.js"><link rel="prefetch" href="/notes/assets/js/213.ceadc213.js"><link rel="prefetch" href="/notes/assets/js/214.20425d7e.js"><link rel="prefetch" href="/notes/assets/js/215.ea509344.js"><link rel="prefetch" href="/notes/assets/js/216.a4ab1a13.js"><link rel="prefetch" href="/notes/assets/js/217.e7f07700.js"><link rel="prefetch" href="/notes/assets/js/218.d34a6368.js"><link rel="prefetch" href="/notes/assets/js/219.c6aa2c44.js"><link rel="prefetch" href="/notes/assets/js/22.0bde63c4.js"><link rel="prefetch" href="/notes/assets/js/220.a20be513.js"><link rel="prefetch" href="/notes/assets/js/221.7316596a.js"><link rel="prefetch" href="/notes/assets/js/222.841353ed.js"><link rel="prefetch" href="/notes/assets/js/223.e33bec57.js"><link rel="prefetch" href="/notes/assets/js/224.354d6301.js"><link rel="prefetch" href="/notes/assets/js/225.282386c1.js"><link rel="prefetch" href="/notes/assets/js/226.abb99fb7.js"><link rel="prefetch" href="/notes/assets/js/227.b2ab63ea.js"><link rel="prefetch" href="/notes/assets/js/228.df447bd0.js"><link rel="prefetch" href="/notes/assets/js/229.fd1b2705.js"><link rel="prefetch" href="/notes/assets/js/23.d600cd4a.js"><link rel="prefetch" href="/notes/assets/js/230.56479e93.js"><link rel="prefetch" href="/notes/assets/js/231.7fe06ae5.js"><link rel="prefetch" href="/notes/assets/js/232.40909175.js"><link rel="prefetch" href="/notes/assets/js/233.bba63cc0.js"><link rel="prefetch" href="/notes/assets/js/234.ca29b35e.js"><link rel="prefetch" href="/notes/assets/js/235.f8a823b0.js"><link rel="prefetch" href="/notes/assets/js/236.a2235fd6.js"><link rel="prefetch" href="/notes/assets/js/237.0a512d23.js"><link rel="prefetch" href="/notes/assets/js/238.74752a3f.js"><link rel="prefetch" href="/notes/assets/js/239.c2bca48c.js"><link rel="prefetch" href="/notes/assets/js/24.39be2e8d.js"><link rel="prefetch" href="/notes/assets/js/240.ced33249.js"><link rel="prefetch" href="/notes/assets/js/241.a18de0bf.js"><link rel="prefetch" href="/notes/assets/js/242.669b3661.js"><link rel="prefetch" href="/notes/assets/js/243.8d12af13.js"><link rel="prefetch" href="/notes/assets/js/244.94929fbd.js"><link rel="prefetch" href="/notes/assets/js/245.01f98b2d.js"><link rel="prefetch" href="/notes/assets/js/246.1c7cb7bc.js"><link rel="prefetch" href="/notes/assets/js/247.5d018884.js"><link rel="prefetch" href="/notes/assets/js/248.20cc0c3b.js"><link rel="prefetch" href="/notes/assets/js/249.a10fbf5a.js"><link rel="prefetch" href="/notes/assets/js/25.f7a1c429.js"><link rel="prefetch" href="/notes/assets/js/250.cea231a0.js"><link rel="prefetch" href="/notes/assets/js/251.52736b60.js"><link rel="prefetch" href="/notes/assets/js/252.60f6e80e.js"><link rel="prefetch" href="/notes/assets/js/253.e2ab134e.js"><link rel="prefetch" href="/notes/assets/js/254.d221539b.js"><link rel="prefetch" href="/notes/assets/js/255.9acb0f08.js"><link rel="prefetch" href="/notes/assets/js/256.22c747ac.js"><link rel="prefetch" href="/notes/assets/js/257.f836ea8d.js"><link rel="prefetch" href="/notes/assets/js/258.a11bcb0e.js"><link rel="prefetch" href="/notes/assets/js/259.08eb5bd9.js"><link rel="prefetch" href="/notes/assets/js/26.718316a9.js"><link rel="prefetch" href="/notes/assets/js/260.55db7d07.js"><link rel="prefetch" href="/notes/assets/js/261.a0f04612.js"><link rel="prefetch" href="/notes/assets/js/262.e507e349.js"><link rel="prefetch" href="/notes/assets/js/263.bc2798af.js"><link rel="prefetch" href="/notes/assets/js/264.aa2a7ed5.js"><link rel="prefetch" href="/notes/assets/js/265.b3125de8.js"><link rel="prefetch" href="/notes/assets/js/266.01bf6375.js"><link rel="prefetch" href="/notes/assets/js/267.ccea1a20.js"><link rel="prefetch" href="/notes/assets/js/268.be1e4e72.js"><link rel="prefetch" href="/notes/assets/js/269.dbd08cee.js"><link rel="prefetch" href="/notes/assets/js/27.94862e46.js"><link rel="prefetch" href="/notes/assets/js/270.1ca726b8.js"><link rel="prefetch" href="/notes/assets/js/271.f5474b97.js"><link rel="prefetch" href="/notes/assets/js/272.b0ef680f.js"><link rel="prefetch" href="/notes/assets/js/273.c4136437.js"><link rel="prefetch" href="/notes/assets/js/274.4e8bdfd6.js"><link rel="prefetch" href="/notes/assets/js/275.fb644fb5.js"><link rel="prefetch" href="/notes/assets/js/276.5cb09d9f.js"><link rel="prefetch" href="/notes/assets/js/277.57e58373.js"><link rel="prefetch" href="/notes/assets/js/278.43c33939.js"><link rel="prefetch" href="/notes/assets/js/279.914a110e.js"><link rel="prefetch" href="/notes/assets/js/28.a5e6fe66.js"><link rel="prefetch" href="/notes/assets/js/280.cf3b7a68.js"><link rel="prefetch" href="/notes/assets/js/281.de48ba8f.js"><link rel="prefetch" href="/notes/assets/js/282.c069db9c.js"><link rel="prefetch" href="/notes/assets/js/283.747f23a6.js"><link rel="prefetch" href="/notes/assets/js/284.d04f54b2.js"><link rel="prefetch" href="/notes/assets/js/285.39ac6b15.js"><link rel="prefetch" href="/notes/assets/js/286.43b88694.js"><link rel="prefetch" href="/notes/assets/js/287.2cafdc4d.js"><link rel="prefetch" href="/notes/assets/js/288.84d97b4e.js"><link rel="prefetch" href="/notes/assets/js/289.b2118bba.js"><link rel="prefetch" href="/notes/assets/js/29.ab3b6aaf.js"><link rel="prefetch" href="/notes/assets/js/290.16f2afe5.js"><link rel="prefetch" href="/notes/assets/js/291.bc6c61b0.js"><link rel="prefetch" href="/notes/assets/js/292.8bff7b6b.js"><link rel="prefetch" href="/notes/assets/js/293.a3a4b0f8.js"><link rel="prefetch" href="/notes/assets/js/294.0f2cb4da.js"><link rel="prefetch" href="/notes/assets/js/295.28aba777.js"><link rel="prefetch" href="/notes/assets/js/296.2371cb58.js"><link rel="prefetch" href="/notes/assets/js/297.61203718.js"><link rel="prefetch" href="/notes/assets/js/298.037c63f7.js"><link rel="prefetch" href="/notes/assets/js/299.b74b878c.js"><link rel="prefetch" href="/notes/assets/js/30.27ec9a11.js"><link rel="prefetch" href="/notes/assets/js/300.edf28f31.js"><link rel="prefetch" href="/notes/assets/js/301.b6986f4d.js"><link rel="prefetch" href="/notes/assets/js/302.48f59fa0.js"><link rel="prefetch" href="/notes/assets/js/303.c1e4d4ae.js"><link rel="prefetch" href="/notes/assets/js/304.b280da5f.js"><link rel="prefetch" href="/notes/assets/js/305.14e777bd.js"><link rel="prefetch" href="/notes/assets/js/306.3de8374a.js"><link rel="prefetch" href="/notes/assets/js/307.bb6b675d.js"><link rel="prefetch" href="/notes/assets/js/308.2dc4265f.js"><link rel="prefetch" href="/notes/assets/js/309.65b16b58.js"><link rel="prefetch" href="/notes/assets/js/31.20c8bfc3.js"><link rel="prefetch" href="/notes/assets/js/310.8e4c18ae.js"><link rel="prefetch" href="/notes/assets/js/311.c910a30b.js"><link rel="prefetch" href="/notes/assets/js/312.7036cc34.js"><link rel="prefetch" href="/notes/assets/js/313.103ece8b.js"><link rel="prefetch" href="/notes/assets/js/314.2e248349.js"><link rel="prefetch" href="/notes/assets/js/315.9affc380.js"><link rel="prefetch" href="/notes/assets/js/316.ebb4f037.js"><link rel="prefetch" href="/notes/assets/js/317.0dacd35e.js"><link rel="prefetch" href="/notes/assets/js/318.738240d2.js"><link rel="prefetch" href="/notes/assets/js/319.b54a8183.js"><link rel="prefetch" href="/notes/assets/js/32.2c249dba.js"><link rel="prefetch" href="/notes/assets/js/320.7262fc62.js"><link rel="prefetch" href="/notes/assets/js/321.b4d79334.js"><link rel="prefetch" href="/notes/assets/js/322.ad66b9bd.js"><link rel="prefetch" href="/notes/assets/js/323.a8dccd01.js"><link rel="prefetch" href="/notes/assets/js/324.d4051798.js"><link rel="prefetch" href="/notes/assets/js/325.c91a654f.js"><link rel="prefetch" href="/notes/assets/js/326.7ee08c62.js"><link rel="prefetch" href="/notes/assets/js/327.6215a570.js"><link rel="prefetch" href="/notes/assets/js/328.71120a1a.js"><link rel="prefetch" href="/notes/assets/js/329.22e47ea7.js"><link rel="prefetch" href="/notes/assets/js/33.e597a7df.js"><link rel="prefetch" href="/notes/assets/js/330.34079108.js"><link rel="prefetch" href="/notes/assets/js/331.d770f721.js"><link rel="prefetch" href="/notes/assets/js/332.aa85145a.js"><link rel="prefetch" href="/notes/assets/js/333.64e140e4.js"><link rel="prefetch" href="/notes/assets/js/334.cd240324.js"><link rel="prefetch" href="/notes/assets/js/335.cd547635.js"><link rel="prefetch" href="/notes/assets/js/336.91dab600.js"><link rel="prefetch" href="/notes/assets/js/337.2ec5cdc7.js"><link rel="prefetch" href="/notes/assets/js/338.59043c82.js"><link rel="prefetch" href="/notes/assets/js/339.8e5d1e06.js"><link rel="prefetch" href="/notes/assets/js/34.8d4b28aa.js"><link rel="prefetch" href="/notes/assets/js/340.9e2d2874.js"><link rel="prefetch" href="/notes/assets/js/341.61e6092a.js"><link rel="prefetch" href="/notes/assets/js/342.d0ee898b.js"><link rel="prefetch" href="/notes/assets/js/343.fb16ffba.js"><link rel="prefetch" href="/notes/assets/js/344.0bb46145.js"><link rel="prefetch" href="/notes/assets/js/345.ef6bfd94.js"><link rel="prefetch" href="/notes/assets/js/346.523ba3d0.js"><link rel="prefetch" href="/notes/assets/js/347.b7fd68da.js"><link rel="prefetch" href="/notes/assets/js/348.b6778cbf.js"><link rel="prefetch" href="/notes/assets/js/349.566ca9a1.js"><link rel="prefetch" href="/notes/assets/js/35.c2b72c34.js"><link rel="prefetch" href="/notes/assets/js/350.aa159fd9.js"><link rel="prefetch" href="/notes/assets/js/351.fe309038.js"><link rel="prefetch" href="/notes/assets/js/352.62097177.js"><link rel="prefetch" href="/notes/assets/js/353.8c8811bc.js"><link rel="prefetch" href="/notes/assets/js/354.d2ada007.js"><link rel="prefetch" href="/notes/assets/js/355.5d345cc6.js"><link rel="prefetch" href="/notes/assets/js/356.c6810cd7.js"><link rel="prefetch" href="/notes/assets/js/357.ac10961e.js"><link rel="prefetch" href="/notes/assets/js/358.0340e23d.js"><link rel="prefetch" href="/notes/assets/js/359.16bc2223.js"><link rel="prefetch" href="/notes/assets/js/36.57ca532c.js"><link rel="prefetch" href="/notes/assets/js/360.e45f7ea9.js"><link rel="prefetch" href="/notes/assets/js/361.a39d091e.js"><link rel="prefetch" href="/notes/assets/js/362.0283b5a9.js"><link rel="prefetch" href="/notes/assets/js/363.48fa48fe.js"><link rel="prefetch" href="/notes/assets/js/364.25a549cd.js"><link rel="prefetch" href="/notes/assets/js/365.2eddb807.js"><link rel="prefetch" href="/notes/assets/js/366.ef272f1a.js"><link rel="prefetch" href="/notes/assets/js/367.28e17043.js"><link rel="prefetch" href="/notes/assets/js/368.255a80fb.js"><link rel="prefetch" href="/notes/assets/js/369.ae66dd9f.js"><link rel="prefetch" href="/notes/assets/js/37.c545dd68.js"><link rel="prefetch" href="/notes/assets/js/370.88f9a32c.js"><link rel="prefetch" href="/notes/assets/js/371.7ffd8780.js"><link rel="prefetch" href="/notes/assets/js/372.605383d1.js"><link rel="prefetch" href="/notes/assets/js/373.c11f5dfe.js"><link rel="prefetch" href="/notes/assets/js/374.c00642a8.js"><link rel="prefetch" href="/notes/assets/js/375.0b004b06.js"><link rel="prefetch" href="/notes/assets/js/376.2769e761.js"><link rel="prefetch" href="/notes/assets/js/377.816e6da6.js"><link rel="prefetch" href="/notes/assets/js/378.cabaa608.js"><link rel="prefetch" href="/notes/assets/js/379.f3e43a5a.js"><link rel="prefetch" href="/notes/assets/js/38.3d798baf.js"><link rel="prefetch" href="/notes/assets/js/380.1ef68ac8.js"><link rel="prefetch" href="/notes/assets/js/381.f554891d.js"><link rel="prefetch" href="/notes/assets/js/382.4eeb9fb7.js"><link rel="prefetch" href="/notes/assets/js/383.de837b94.js"><link rel="prefetch" href="/notes/assets/js/384.085f9f09.js"><link rel="prefetch" href="/notes/assets/js/385.8fa51abb.js"><link rel="prefetch" href="/notes/assets/js/386.040eac11.js"><link rel="prefetch" href="/notes/assets/js/387.88990e8b.js"><link rel="prefetch" href="/notes/assets/js/388.1ea4a37c.js"><link rel="prefetch" href="/notes/assets/js/389.a323e4b9.js"><link rel="prefetch" href="/notes/assets/js/39.e9da77b7.js"><link rel="prefetch" href="/notes/assets/js/390.22026053.js"><link rel="prefetch" href="/notes/assets/js/391.9f02c56d.js"><link rel="prefetch" href="/notes/assets/js/392.d55d9034.js"><link rel="prefetch" href="/notes/assets/js/393.1cbbcf50.js"><link rel="prefetch" href="/notes/assets/js/394.55ea930c.js"><link rel="prefetch" href="/notes/assets/js/395.d0415c56.js"><link rel="prefetch" href="/notes/assets/js/396.a1f242c0.js"><link rel="prefetch" href="/notes/assets/js/397.ad062a1e.js"><link rel="prefetch" href="/notes/assets/js/398.401acbf5.js"><link rel="prefetch" href="/notes/assets/js/399.7fcb37f1.js"><link rel="prefetch" href="/notes/assets/js/4.0eddc376.js"><link rel="prefetch" href="/notes/assets/js/40.152fb70e.js"><link rel="prefetch" href="/notes/assets/js/400.7cad41d3.js"><link rel="prefetch" href="/notes/assets/js/401.bf6e604c.js"><link rel="prefetch" href="/notes/assets/js/402.5271fc7c.js"><link rel="prefetch" href="/notes/assets/js/403.a960210f.js"><link rel="prefetch" href="/notes/assets/js/404.220d9814.js"><link rel="prefetch" href="/notes/assets/js/405.fbeefca5.js"><link rel="prefetch" href="/notes/assets/js/406.1a7a3651.js"><link rel="prefetch" href="/notes/assets/js/407.92451b0d.js"><link rel="prefetch" href="/notes/assets/js/408.9081c518.js"><link rel="prefetch" href="/notes/assets/js/409.5b8705a8.js"><link rel="prefetch" href="/notes/assets/js/41.c973cd04.js"><link rel="prefetch" href="/notes/assets/js/410.2afd45ff.js"><link rel="prefetch" href="/notes/assets/js/411.30a6778b.js"><link rel="prefetch" href="/notes/assets/js/412.5b5fbb7a.js"><link rel="prefetch" href="/notes/assets/js/413.37b4db3c.js"><link rel="prefetch" href="/notes/assets/js/414.41f671f5.js"><link rel="prefetch" href="/notes/assets/js/415.5797eb0a.js"><link rel="prefetch" href="/notes/assets/js/416.5ec4dc00.js"><link rel="prefetch" href="/notes/assets/js/417.471b2657.js"><link rel="prefetch" href="/notes/assets/js/418.93bf4420.js"><link rel="prefetch" href="/notes/assets/js/419.483e75ac.js"><link rel="prefetch" href="/notes/assets/js/42.cefe7a26.js"><link rel="prefetch" href="/notes/assets/js/420.56ce2d80.js"><link rel="prefetch" href="/notes/assets/js/421.b1ed157a.js"><link rel="prefetch" href="/notes/assets/js/422.04adcf20.js"><link rel="prefetch" href="/notes/assets/js/423.4ef69085.js"><link rel="prefetch" href="/notes/assets/js/424.ee6c15ef.js"><link rel="prefetch" href="/notes/assets/js/425.ae40528c.js"><link rel="prefetch" href="/notes/assets/js/426.2ff5016e.js"><link rel="prefetch" href="/notes/assets/js/427.074660ad.js"><link rel="prefetch" href="/notes/assets/js/428.2eda923b.js"><link rel="prefetch" href="/notes/assets/js/429.2a6e7e7b.js"><link rel="prefetch" href="/notes/assets/js/43.bfaf3f9b.js"><link rel="prefetch" href="/notes/assets/js/430.f0fd4c44.js"><link rel="prefetch" href="/notes/assets/js/431.4c505b64.js"><link rel="prefetch" href="/notes/assets/js/432.2a188436.js"><link rel="prefetch" href="/notes/assets/js/433.8610f4fb.js"><link rel="prefetch" href="/notes/assets/js/434.ec313029.js"><link rel="prefetch" href="/notes/assets/js/435.0c6c1f6a.js"><link rel="prefetch" href="/notes/assets/js/436.2a3487db.js"><link rel="prefetch" href="/notes/assets/js/437.d132d27c.js"><link rel="prefetch" href="/notes/assets/js/438.ff4142c6.js"><link rel="prefetch" href="/notes/assets/js/439.0c474ccb.js"><link rel="prefetch" href="/notes/assets/js/44.d3333975.js"><link rel="prefetch" href="/notes/assets/js/440.7b882d15.js"><link rel="prefetch" href="/notes/assets/js/441.ab1bf371.js"><link rel="prefetch" href="/notes/assets/js/442.134f0456.js"><link rel="prefetch" href="/notes/assets/js/443.c6393d96.js"><link rel="prefetch" href="/notes/assets/js/444.2c9b16f1.js"><link rel="prefetch" href="/notes/assets/js/445.6decb9e1.js"><link rel="prefetch" href="/notes/assets/js/446.d6fccd3e.js"><link rel="prefetch" href="/notes/assets/js/447.90f4ab24.js"><link rel="prefetch" href="/notes/assets/js/448.55d87002.js"><link rel="prefetch" href="/notes/assets/js/449.308c7f75.js"><link rel="prefetch" href="/notes/assets/js/45.e63f1fc2.js"><link rel="prefetch" href="/notes/assets/js/450.72f5279e.js"><link rel="prefetch" href="/notes/assets/js/451.26d6e91c.js"><link rel="prefetch" href="/notes/assets/js/452.3184fdb4.js"><link rel="prefetch" href="/notes/assets/js/453.9d6d9af6.js"><link rel="prefetch" href="/notes/assets/js/454.f03ce01d.js"><link rel="prefetch" href="/notes/assets/js/455.f6fbc7a5.js"><link rel="prefetch" href="/notes/assets/js/456.cb5a72dd.js"><link rel="prefetch" href="/notes/assets/js/457.83d89808.js"><link rel="prefetch" href="/notes/assets/js/458.a4761ae2.js"><link rel="prefetch" href="/notes/assets/js/459.0a453ce2.js"><link rel="prefetch" href="/notes/assets/js/46.285c38fe.js"><link rel="prefetch" href="/notes/assets/js/460.39470724.js"><link rel="prefetch" href="/notes/assets/js/461.d84eac44.js"><link rel="prefetch" href="/notes/assets/js/462.2542bb78.js"><link rel="prefetch" href="/notes/assets/js/463.9b5715d0.js"><link rel="prefetch" href="/notes/assets/js/464.f9215414.js"><link rel="prefetch" href="/notes/assets/js/465.c6571f8d.js"><link rel="prefetch" href="/notes/assets/js/466.10c3a729.js"><link rel="prefetch" href="/notes/assets/js/467.917690aa.js"><link rel="prefetch" href="/notes/assets/js/468.e4e05fb0.js"><link rel="prefetch" href="/notes/assets/js/469.6ee1f0bf.js"><link rel="prefetch" href="/notes/assets/js/47.e179b803.js"><link rel="prefetch" href="/notes/assets/js/470.109daa98.js"><link rel="prefetch" href="/notes/assets/js/471.20e17539.js"><link rel="prefetch" href="/notes/assets/js/472.de465397.js"><link rel="prefetch" href="/notes/assets/js/473.697bece5.js"><link rel="prefetch" href="/notes/assets/js/474.c0500f50.js"><link rel="prefetch" href="/notes/assets/js/475.7a0de490.js"><link rel="prefetch" href="/notes/assets/js/476.3b6c2663.js"><link rel="prefetch" href="/notes/assets/js/477.fe61522a.js"><link rel="prefetch" href="/notes/assets/js/478.b33a7744.js"><link rel="prefetch" href="/notes/assets/js/479.29224709.js"><link rel="prefetch" href="/notes/assets/js/48.f6ca3943.js"><link rel="prefetch" href="/notes/assets/js/49.574091cd.js"><link rel="prefetch" href="/notes/assets/js/5.a09c7da9.js"><link rel="prefetch" href="/notes/assets/js/50.3a0ff583.js"><link rel="prefetch" href="/notes/assets/js/51.57db0225.js"><link rel="prefetch" href="/notes/assets/js/52.0ecf5693.js"><link rel="prefetch" href="/notes/assets/js/53.1f76ee65.js"><link rel="prefetch" href="/notes/assets/js/54.abcb27d8.js"><link rel="prefetch" href="/notes/assets/js/55.2e25c2d0.js"><link rel="prefetch" href="/notes/assets/js/56.bb6f65a5.js"><link rel="prefetch" href="/notes/assets/js/57.da9a0590.js"><link rel="prefetch" href="/notes/assets/js/58.1835be90.js"><link rel="prefetch" href="/notes/assets/js/59.af675de6.js"><link rel="prefetch" href="/notes/assets/js/6.3cd82c9a.js"><link rel="prefetch" href="/notes/assets/js/60.0ef43601.js"><link rel="prefetch" href="/notes/assets/js/61.c74e9f39.js"><link rel="prefetch" href="/notes/assets/js/62.1bedfdf6.js"><link rel="prefetch" href="/notes/assets/js/63.a0deef5f.js"><link rel="prefetch" href="/notes/assets/js/64.382724a8.js"><link rel="prefetch" href="/notes/assets/js/65.89029c37.js"><link rel="prefetch" href="/notes/assets/js/66.81ca5639.js"><link rel="prefetch" href="/notes/assets/js/67.cbbb38d7.js"><link rel="prefetch" href="/notes/assets/js/68.000bfd35.js"><link rel="prefetch" href="/notes/assets/js/69.c2d07d56.js"><link rel="prefetch" href="/notes/assets/js/7.7d6ad91c.js"><link rel="prefetch" href="/notes/assets/js/70.217180de.js"><link rel="prefetch" href="/notes/assets/js/71.98765c00.js"><link rel="prefetch" href="/notes/assets/js/72.1c955ea7.js"><link rel="prefetch" href="/notes/assets/js/73.d2706f61.js"><link rel="prefetch" href="/notes/assets/js/74.60cc2008.js"><link rel="prefetch" href="/notes/assets/js/75.4b361813.js"><link rel="prefetch" href="/notes/assets/js/76.38d96cc9.js"><link rel="prefetch" href="/notes/assets/js/77.438af426.js"><link rel="prefetch" href="/notes/assets/js/78.bcd8b2ed.js"><link rel="prefetch" href="/notes/assets/js/79.f5f68b99.js"><link rel="prefetch" href="/notes/assets/js/8.d3bec3c0.js"><link rel="prefetch" href="/notes/assets/js/80.56ed8ba9.js"><link rel="prefetch" href="/notes/assets/js/81.f8dbf3cf.js"><link rel="prefetch" href="/notes/assets/js/82.e794a34b.js"><link rel="prefetch" href="/notes/assets/js/83.e2c87fbb.js"><link rel="prefetch" href="/notes/assets/js/84.1afc1456.js"><link rel="prefetch" href="/notes/assets/js/85.b7c7c05b.js"><link rel="prefetch" href="/notes/assets/js/86.f3a12e4c.js"><link rel="prefetch" href="/notes/assets/js/87.4cd44f76.js"><link rel="prefetch" href="/notes/assets/js/88.57dc2780.js"><link rel="prefetch" href="/notes/assets/js/89.f604b335.js"><link rel="prefetch" href="/notes/assets/js/9.e1f148ec.js"><link rel="prefetch" href="/notes/assets/js/90.6ee867a3.js"><link rel="prefetch" href="/notes/assets/js/91.d509a153.js"><link rel="prefetch" href="/notes/assets/js/92.dbe29fc9.js"><link rel="prefetch" href="/notes/assets/js/93.00a12f11.js"><link rel="prefetch" href="/notes/assets/js/94.b910d5ad.js"><link rel="prefetch" href="/notes/assets/js/95.f2f8c392.js"><link rel="prefetch" href="/notes/assets/js/96.846bfa91.js"><link rel="prefetch" href="/notes/assets/js/97.2aaef136.js"><link rel="prefetch" href="/notes/assets/js/98.2fc7c21e.js"><link rel="prefetch" href="/notes/assets/js/99.c571e816.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.db9e9bf4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">我的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/guide/" class="nav-link">
  指南
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/guide/" class="nav-link">
  指南
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Apache Zookeeper</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/apache-dubbo-zookeeper/" aria-current="page" class="sidebar-link">微服务架构需要解决的问题</a></li><li><a href="/notes/apache-dubbo-zookeeper/什么是分布式协调技术.html" class="sidebar-link">什么是分布式协调技术</a></li><li><a href="/notes/apache-dubbo-zookeeper/什么是分布式锁.html" class="sidebar-link">什么是分布式锁</a></li><li><a href="/notes/apache-dubbo-zookeeper/什么是 Zookeeper.html" class="sidebar-link">什么是 Zookeeper</a></li><li><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html" class="active sidebar-link">Zookeeper 如何实现分布式锁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#什么是临时顺序节点" class="sidebar-link">什么是临时顺序节点？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#持久节点-persistent" class="sidebar-link">持久节点（PERSISTENT）</a></li><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#持久节点顺序节点-persistent-sequential" class="sidebar-link">持久节点顺序节点（PERSISTENT_SEQUENTIAL）</a></li><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#临时节点-ephemeral" class="sidebar-link">临时节点（EPHEMERAL）</a></li><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#临时顺序节点-ephemeral-sequential" class="sidebar-link">临时顺序节点（EPHEMERAL_SEQUENTIAL）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#zookeeper-分布式锁的原理" class="sidebar-link">Zookeeper 分布式锁的原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#获取锁" class="sidebar-link">获取锁</a></li><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#释放锁" class="sidebar-link">释放锁</a></li></ul></li><li class="sidebar-sub-header"><a href="/notes/apache-dubbo-zookeeper/Zookeeper 如何实现分布式锁.html#zookeeper-和-redis-分布式锁的比较" class="sidebar-link">Zookeeper 和 Redis 分布式锁的比较</a></li></ul></li><li><a href="/notes/apache-dubbo-zookeeper/基于 Docker 安装 Zookeeper.html" class="sidebar-link">基于 Docker 安装 Zookeeper</a></li><li><a href="/notes/apache-dubbo-zookeeper/附：Linux 下手动安装 Zookeeper.html" class="sidebar-link">附：Linux 下手动安装 Zookeeper</a></li><li><a href="/notes/apache-dubbo-zookeeper/Zookeeper 配置说明.html" class="sidebar-link">Zookeeper 配置说明</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="zookeeper-如何实现分布式锁"><a href="#zookeeper-如何实现分布式锁" class="header-anchor">#</a> Zookeeper 如何实现分布式锁</h1> <h2 id="什么是临时顺序节点"><a href="#什么是临时顺序节点" class="header-anchor">#</a> 什么是临时顺序节点？</h2> <p><img src="data:image/png;base64,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" alt="img"></p> <p>Zookeeper 的数据存储结构就像一棵树，这棵树由节点组成，这种节点叫做 Znode。</p> <p>Znode 分为四种类型：</p> <h3 id="持久节点-persistent"><a href="#持久节点-persistent" class="header-anchor">#</a> 持久节点（PERSISTENT）</h3> <p>默认的节点类型。创建节点的客户端与 Zookeeper 断开连接后，该节点依旧存在。</p> <h3 id="持久节点顺序节点-persistent-sequential"><a href="#持久节点顺序节点-persistent-sequential" class="header-anchor">#</a> 持久节点顺序节点（PERSISTENT_SEQUENTIAL）</h3> <p>所谓顺序节点，就是在创建节点时，Zookeeper 根据创建的时间顺序给该节点名称进行编号：</p> <p><img src="data:image/png;base64,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" alt="img"></p> <h3 id="临时节点-ephemeral"><a href="#临时节点-ephemeral" class="header-anchor">#</a> 临时节点（EPHEMERAL）</h3> <p>和持久节点相反，当创建节点的客户端与 Zookeeper 断开连接后，临时节点会被删除：</p> <p><img src="/notes/assets/img/Lusifer201810190002.47d2c828.png" alt="img"></p> <p><img src="/notes/assets/img/Lusifer201810190003.346b06a1.png" alt="img"></p> <p><img src="/notes/assets/img/Lusifer201810190004.5f687a77.png" alt="img"></p> <h3 id="临时顺序节点-ephemeral-sequential"><a href="#临时顺序节点-ephemeral-sequential" class="header-anchor">#</a> 临时顺序节点（EPHEMERAL_SEQUENTIAL）</h3> <p>顾名思义，临时顺序节点结合和临时节点和顺序节点的特点：在创建节点时，Zookeeper 根据创建的时间顺序给该节点名称进行编号；当创建节点的客户端与 Zookeeper 断开连接后，临时节点会被删除。</p> <h2 id="zookeeper-分布式锁的原理"><a href="#zookeeper-分布式锁的原理" class="header-anchor">#</a> Zookeeper 分布式锁的原理</h2> <p>Zookeeper 分布式锁恰恰应用了临时顺序节点。具体如何实现呢？让我们来看一看详细步骤：</p> <h3 id="获取锁"><a href="#获取锁" class="header-anchor">#</a> 获取锁</h3> <p>首先，在 Zookeeper 当中创建一个持久节点 ParentLock。当第一个客户端想要获得锁时，需要在 ParentLock 这个节点下面创建一个<strong>临时顺序节点</strong> Lock1。</p> <p><img src="data:image/png;base64,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3r3BsFxaWipOp1PmzJkjOTk5VpcGAH1Gr+wcuGbNmicfeeSRgt/85jfLFy1aNDDadW63W3796197d+/eveyll176c+dhL5ugAID59uzZE2zDGDNmjDidTpk7d65kZcX1A0IA6DdMD85333333x9++OGK8Kz7ox/96Gd33nnnFw899NDKysrK4SUlJVJSUiJHjhyRI0eOyKFDh1p37NjhO3z48Hdeeuml/+m8rV1EPKHjLF++fNsjjzwyhSwNAPFrbGwMhuXx48eLrusyb948sdvtVpcGAH2eqcF5yZIlt5aVlU2sq6v7UkS6tGU8/fTTT91+++31L7300l35+fnf6FxmztbW1ranvb39v5977rnnQi73iognNCAvW7bMU1ZW5l+yZMn3ReQZM2sHgHQVaMFwuVwyceJE0XVdbrzxRrHZbFaXBgApxdTg7HA4aqqqqvKuvfZaqampOfbUU08NDb9m/fr172uadruI2EUkp7OGjM7THSLiE5FWwzDO+kDg8uXLj69cuTLX7XbLxx9/vEzTtGeYdQaArvx+fzAou1wucTqdouu63HTTTaJpcS1wBAAIYVpwrqmpGZ6Xlzdh7NixIiLy4IMPnltTU7MvMzPzmrVr134Qem1n4PV1vkTTtKg7Cy5btmxiXl7ey/fdd19hXl6eFBYWis/nGz5//vxLReRds+oHgFTW0dERnFn+4IMPRNd1mTRpknznO9+xujQASBsZ3V+iJjs7+3tTpkwJBvGBAwfaVq1aNcZms/39nnvuuS/WvdFC88qVK+8vKCj4n7q6ujF5eXnBnyl+85vfzMvPz79L0zTT6geAVOPz+WT79u2yceNG+fGPfywffvihTJ48WR566CG56aabRNd1q0sEgLRi2oyzzWa7o6Ki4qyPYg8YMEAeeuihgt///vcrHnzwwevdbvfGtWvX/jLWKhmrV6/OaGlp+eGgQYNunTx58gVz584tCL+msrLS9sorr3xbRO6Sr3qhAaBfaGtrC84sHzhwQJxOp1RUVMjChQutLg0A0p4pwXnp0qWXDh48OO+8886LeP6WW24pOHLkyOT6+voJtbW1T61atWrjqVOnjp45c+ZjEflI07TxGRkZ4wYMGDCspaXl1oqKCm9VVZVj+PDhIiLy1FNPddTU1ARnnHNycqS4uLh94cKF80VkoxnfAwD0Va2trcGtrg8ePChOp1OmTZsm3/3ud60uDQD6FVOCc3Z29g+qqqoGhB8PDbzDhw+X+fPnO+bPny+7du1aePz4cePYsWMev9/vsdlsjqFDhzoGDx6sTZo0SUTkrL1cm5qabDt27JBLLrkkeOyqq64q2L9//2JN0543DIMNUgCkFY/HE/xwX3Nzs+i6LtOnT5dFixZZXRoA9FumBOf29vabJk+erIV2YGzbts1oamqyRerKcDqdIiKafLVk3VnL1kXr4vjLX/7yRXl5eTCcjx8/XnJyciZcf/31o0XkIzO+DwCw0unTp4Nh+ejRo6LrusyYMUPGjRtndWkAADEhONfU1MwdP358W3Z2dnbo8ddee+0LEYm6S2C8PvvsM7vH4xGH41+T0VVVVXa3232npmnLWJoOVuLPHxLldruDYfn48eOi67rMnDlTRo8eHbyGP18A0Df0ODgXFBTUVlZWntWmcfz4cWlpafFmZGSYFpy9Xu9/vvfee9+urq4OrqRRXV1t37x5820islK+2mUQAPq8U6dOicvlksbGRjlx4oToui5XXnmljBo1yurSAAAx9Cg4r1ixosDn800rKys76/ibb77Z5vV6N+Tl5d3bo+pCtLS0/O6NN96YU11dHQzjAwcOlMGDB2csWLDg30TkJbOeBQBm++c//xnc7vrUqVOi67pcffXVUlpaanVpAABFPQrO7e3tCy+99NKO8B8jvvvuu9LY2PhcRUXFvWb9iPHFF1/cUVNT03r8+PGBgwcPDh6/+uqrBzz77LM1mqa9bBiG35SHAYAJTp48GWzD+PLLL6WsrEzmzJkjxcXFVpcGAEhAj4JzVlZWzZQpU3JDj+3evVva29u3b9u27WRFRUXPqgvT3t6+cevWrcvmzJljDxybNGmS5ObmTps5c+YQETlm6gMBIE6ff/55cGbZ6/WKrusyd+5cGTlypNWlAQB6KOHgXFNTc+GgQYOGFRUVnXX89ddfd7vd7v/ocWUR+Hy+3+7cufOu0OAsInLJJZf4T58+fYemaT9Jww/RzBCRy60uwkSbRGSz1UUAZjp+/HhwZtnn80lZWZnMmzdPRowYYXVpAAATJRycc3Nzb6+srDxrttnj8cjRo0dtL7zwwms9L62rDRs27F+xYsXRTz75pCD0R52XX355zrZt2+4QkZ+LSLqt6Xy5iKwqLy+XnTt3Bg/G+3W4wPnurlMVOl4kIc9YJQRnpIFjx44Fw7Lf7xdd1+XGG2+U888/3+rSAABJknBw9vv9t33ta1876/633nqrw+PxvND5ZVuPKovC5/P9x7vvvvvz4uLiYGgfOnSoDBgwIH/BggXTReTNZDzXarFCbqTjqqE4PGx3d00k4c8Jvz7auECq+fTTT4M7+GVkZIiu63LTTTfJ0KFDrS4NANALEgrOS5YsmVlUVCQFBQVnrS+6adMm72effbah88tWEfPXHzUM43c7dux4aN68eWcdv/rqqwuef/75Wk3TNhlp1q8RGjy7ex8twEYKr+H3hIftaLPI3c1sE5SRTo4cORKcWc7MzBRd12XBggUyZMgQq0sDAPSyhIKzw+H44WWXXTYo9FhTU5O0trYe+tOf/rRPRDpExGdGgeEee+yxk/fee+/OvXv3XnbhhReKiMjhw4dlz549XpvNNlZE7JKGazqrtFPECqyRwq1qi0ZooI4WokPHS9cgXVdXd35HR8crmqatfuKJJ162uh4kz6FDh4JhOScnR3Rdl4ULF0roij4AgP4noeBsGEbpG2+8ccrlctknTJjgGDlypPztb3/70uPx/LrzklbDMKS2ttbEUv/F4/H8atu2bXpLS0vea6+95na73Se8Xu+vfvvb324UkRxJs+AcGk5jXRNphjmR/uV4g26k/up0tHbt2qO1tbUXaJr23JIlSz7SNO2Wxx9//EOr64I5mpubpaGhQRobGyUvL090XZfvfe97cs4551hdGgCgj0goOK9Zs+aS2trayYcOHZq2ffv26VlZWZMNw/Bs3Ljx+c5LktLfHPDEE088v2LFin/fvn37npMnT2548cUXd4WctmuapqVbu4ZIfCE4fHY49L1q37NKAI7VxpGODMP4b7/fP1dELjUM493a2to/Wl0TEnfw4EFpbGyUhoYGGTBggDidTrn99tulsLDQ6tIAAH1QojPOIiLbNU3bJSIbRCRLRAJbYbeFbkSSjPxqGIZomlbe+WuBiGSLiHHnnXfW2e32+0QkabPdvW3WrFly773qGzBGC67xrKARz4xxrIAeqa5XX3111auvvrpK+QF9jKZpYhhGq6ZpOSJSICLftromxOcf//hHMCyfc845UlZWJnfddZcMHDiw+5sBAP1ajzZAMQzjjIic1jRN5KvwnC2dHwpMtpBA3ioifhHxPv300/eLyP298fze8uSTTz44a9as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" alt="img"></p> <p>之后，Client1 查找 ParentLock 下面所有的临时顺序节点并排序，判断自己所创建的节点 Lock1 是不是顺序最靠前的一个。如果是第一个节点，则成功获得锁。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAs4AAAEzCAYAAAAhCIV2AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO3de3RU5b3/8e/OZHKZJEAUBIFcuIlI9mCkEgwh2GJVKFWgHllHK2Jp1QoTLqcI9qLY1dZDtVoL9rS0Utrq+v3WqufH8rT+1NNWgeiRooAkAVGBBsNFRGhwcCbJkNnnDzPTYTKXZyZ7sjOT98u1l5O9n733NyyEj0+++9maYRgCAAAAILYsqwsAAAAA0kG21QUA6W7NmjV7PB7PlVbXAQAAzOdwON5et25dpWEYBGegpzwez5WPP/641WUAAIAUWLlyZXByjOAMAAAAxObQNM0gOAMAAACxOUTE4OFAAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAFvDgRMYBiG1SUAAIAUY8YZAAAAUEBwBgAAABQQnAEAAAAFBGcAAABAAcEZAAAAUEBwBgAAABQQnAEAAAAFBGcAAABAAcEZAAAAUEBwBgAAABQQnAEAAAAFBGcAAABAAcEZAAAAUEBwBgAAABQQnAEAAAAFBGcAAABAAcEZAAAAUEBwBgAAABQQnAEAAAAFBGcAAABAAcEZAAAAUEBwBgAAABQQnAEAAAAFBGcAAABAQbbVBQCZwDAMq0sAAAApxowzAAAAoIDgDAAAACggOAMAAAAKCM4AAACAAoIzAAAAoIDgDAAAACggOAMAAAAKCM4AAACAAoIzAAAAoIA3BwIAet3yR/9T9rx71Ooy+p3K8SPlp6u+YnUZQNoiOAMAet2ed4/K9k0rrS6j36n92uNWlwCkNYIzAMAShtUF9FMej0fsdrvY7XarSwHSDsEZAGANkrMlPB6POBwOgjOQBIIzAMAiJGcA6YVVNQAAAAAFzDgDACzBfDOAdENwBgBYg+QMIM3QqgEAAAAoYMYZAGAJJpwBpBtmnAEAAAAFzDgDAKxhMOcMIL0QnAEAliA2A0g3tGoAAAAACgjOAAAAgAJaNQAAlqDFGUC6ITgDJjBIAADSiGEY/LkFJIFWDQAAAEABM84AAIsw4wkgvRCcAQCWoFMAQLqhVQMAAABQQHAGAAAAFNCqAQCwBJ0aANINwRkAYA2SM4A0Q3AGAPR506dVddtX//rfLKgkttA6zaovcM2++P0C/Q09zgAASxgJ/LP99R0iIrL99R3Bbfq0qoSuYfY/ke4fWqdZ9wlc04xrAegZgjMAAACggFYNAIA1kpkADT8n5OvamqnBz9tf29Ft//bXdlzwOdZ5sc4JHV87rfv1ItYZIlqd4ce6HTdinwsg9QjOAIC0ESscR/s6EH7Dx8Q6L9I5occinataf7Q6Ix0LF6iL0AxYg+AMALBEMhPO20ICoxG23xCRGSFhM/z6gTHhwgNqpOtGu2a07yHW9xbrGvHuPaNmatTvA0DqEZwBABkhECoDn1VtS5PZ20S+JwCpwcOBAABrGAluMc6ZUTNVttXviD422rnS/TrK1xC185SvGee8bfU7ZFv9jgv3J/NrCCBpzDgDACyRyPJo106/RkREZkyfKlvr3+h2fGv9GzJj+oUzsoGxoecGxkY7b2v9G2KI0e1+ke4fem6k8yJ9r9Hul0gtsX4dAKQWwRkA0OephMRoY+KdGy2IJ3PtntTZ01oApB6tGgAAAIACZpwBAJYw6LkFkGaYcQYAAAAUEJwBAAAABbRqAAAsQacGgHRDcAYAWIMmZwBphlYNAAAAQAEzzoAJDGbOAKQJwzCCG4DEEJwBAJYgtgFINwRnAIA1SM4A0gw9zgAAAIACZpwBAJZgwhlAuiE4AwAsQnQGkF4IzgAAa5CbAaQZgjMAwBLkZgDphocDAQAAAAUEZwAAAEABrRoAAGvQqwEgzRCcAQCWIDcDSDcEZwCARYjOANILPc4AAACAAmacAQCWMJhwBpBmCM4AgF43adwIuXn5z60uIwGGXGT3SnGOR7yddjneNtDqgpJSMXqY1SUAaY3gDADodT9dNV9ERDwej3i9Xouriczv98uBAwfkwIEDcujQIRk/fnxwA9A/EZwBAJax2+1Wl3CB8+fPy/79+2Xfvn1y8OBBmThxokyePFluv/12q0szVV/7dQfSBcEZAGAZu91ueYhrb2+XxsZGaWxslIMHD4qu6zJ16lRZvHixpXUB6HsIzgCAfsfr9QbDcnNzczAs33XXXVaXBqAPIzgDAPoFr9crDQ0N0tjYKC0tLaLrutTU1DCzDEAZwRkAkLE+/fTTYFg+duyYOJ1Oqa2tlcsuu8zq0gCkIYIzACCjuN3uYFg+efKkOJ1O+cIXviBjx461ujQAaY7gDABIe5988ons3btXGhsb5fTp0+J0OuX666+X0aNHW10agAxCcAYApKXW1lZpbGyUvXv3Smtrq0yaNElmz54t5eXlVpcGIEMRnAETGLw7GOgVZ86ckcbGRmloaJBz586Jruvy5S9/WUpLS4Nj+O8RQKoQnAEAfdrHH38cXDrO6/WKrusyb948GTlypNWlAehnCM4AgD7n1KlTwZlln88nuq7LV77yFRkxYoTVpQHoxywJzsuXL68aOHDgdZ2dndNERGw22+tnz579y5NPPvk3fsQGAP3TyZMng2HZ7/eLruuyYMECufTSS60uDQBEpBeDs6ZpsmrVqnWFhYX/MmzYsEtHjx6dV1ZWJiIiR44cmXX48OHvPvzwwyfuv//+Pzz66KOrCdAAkPk+/PDDYFjWNE10XZfbb79dhg4danVpANBNrwXn73//+01Op3PsrFmzcsOPVVZWiojkicio559/ftnDDz/8JRGp6K3aAAC958SJE8F1lm02m+i6LnfccYdccsklVpcGADGlPDhrmqY9+OCD+5ctW3Z5QUFB3Kedb7rpptyZM2dOXLp06YGnnnpqgsHUMwCkvWPHjgVnlnNycsTpdMqdd94pQ4YMsbo0AFCW8uC8YsWKuvHjx5c5HA7lJYIcDodceeWVpffcc88KEXk8tRUCAFKhpaUlOLPscDhE13VZvHixXHzxxVaXBgBJSXlwHjhw4M3V1dX5iZ533XXX5b/11lvzNE37mWEY51NRGwDAXEeOHAkuHVdUVCROp1PuueceKS4utro0AOixlAdnt9t9VSKzzQEOh0PsdrtTRApFpDUlxQEAeqy5uTk4s1xcXCy6rss3v/lNGTRokNWlAYCpUh6ci4qKThcWFg5MNDgXFhaKpmn/EJFsTdOymXUGgL7j8OHDwbA8ePBgcTqd4nK5ZMCAAVaXBgApk/Lg7PP5/M3NzRJYek7VkSNHxO/3d3Z9mS0iBGcAsNDBgweDD/gNGzZMnE6nXHfddVJYWGh1aQDQK1IenP1+//8/ceKEq7S0VEvkvJaWFn9bW9vLqaoLABDfe++9F+xZHjFihOi6LjfccIM4HA6rSwOAXpfy4NzZ2fndF1544d4pU6bkJHLeCy+8kPX0008/FLhMCkoDAETw3nvvBdswSktLRdd1mT17tuTnJ/ycNwBklJQH53Xr1rlXr169auPGjT/6xje+UaByzk9+8pNzp0+fdomI0bXRpgEAKXTgwIFgWC4vLxen0ylz5syRvLw8q0sDgD6jV94cuG7dup899thjRb/+9a9XLV68eGC0cW63W375y1969+3bt3LLli1/6trt5SUoAGC+/fv3B9swxowZI06nU+bOnSs5OQn9gBAA+g3Tg/P999//t0cffbQqPOt+61vf+uG99977ySOPPLKmurp6eFlZmZSVlcnx48fl+PHjcvTo0bbdu3f7jh079tUtW7b8T9dpHSLiCb3OqlWrdj722GNTyNIAkLimpqZgWB4/frzoui7z588Xu91udWkA0OeZGpyXLVt2Z0VFxcQVK1Z8KiLd2jJ+8YtfrL/77rvrt2zZcl9hYeEXupaZs7W3t+/v6Oj479/+9re/DRnuFRFPaEBeuXKlp6Kiwr9s2bJviMivzKwdADJVoAWjsbFRJk6cKLquy6233io2m83q0gAgrZganB0Oh6umpqbgpptuEpfLdXL9+vVDw8ds3LjxbU3T7hYRu4jkddWQ1XW4U0R8ItJmGMYFDwSuWrXq1Jo1a/Ldbre8//77KzVN+xWzzgDQnd/vDwblxsZGcTqdouu63HbbbaJpCS1wBAAIYVpwdrlcwwsKCiaMHTtWREQeeuihi10u18Hs7OwvP/HEE++Eju0KvL6uTTRNi/pmwZUrV04sKCh4/jvf+U5xQUGBFBcXi8/nG75gwYKrReRNs+oHgHTW2dkZnFl+5513RNd1mTRpknz1q1+1ujQAyBhZ8Yeoyc3N/fqUKVOCQXzgwIG2tWvXjrHZbH974IEHvhPr3Gihec2aNd8tKir6nxUrVowpKCgI/kzxi1/8YkFhYeF9mqaZVj8ApBufzye7du2SzZs3y/e+9z159913ZfLkyfLII4/IbbfdJrquW10iAGQU02acbTbbPVVVVRc8ij1gwAB55JFHin7/+9+vfuihh+a53e7NTzzxxFOxVsl4+OGHs1pbW5cMGjTozsmTJ182d+7covAx1dXVthdeeOFfReQ++awXGgD6hfb29uDM8uHDh8XpdEpVVZUsWrTI6tIAIOOZEpyXL19+9eDBgwsuueSSiMfvuOOOouPHj0+ur6+fUFdXt37t2rWbz549e+L8+fPvi8h7mqaNz8rKGjdgwIBhra2td1ZVVXlramocw4cPFxGR9evXd7pcruCMc15enpSWlnYsWrRogYhsNuN7AIC+qq2tLfiq6yNHjojT6ZRp06bJ1772NatLA4B+xZTgnJub+82ampoB4ftDA+/w4cNlwYIFjgULFsjevXsXnTp1yjh58qTH7/d7bDabY+jQoY7BgwdrkyZNEhG54F2uzc3Ntt27d8tVV10V3HfDDTcUHTp0aKmmac8YhsELUgBkFI/HE3y4r6WlRXRdl+nTp8vixYutLg0A+i1TgnNHR8dtkydP1kI7MHbu3Gk0NzfbInVlOJ1OERFNPluy7oJl66J1cfz5z3/+pLKyMhjOx48fL3l5eRPmzZs3WkTeM+P7AAArnTt3LhiWT5w4Ibquy4wZM2TcuHFWlwYAEBOCs8vlmjt+/Pj23Nzc3ND9L7300iciEvUtgYn66KOP7B6PRxyOf05G19TU2N1u972apq1kaTpYid9/SJbb7Q6G5VOnTomu6zJz5kwZPXp0cAy/vwCgb+hxcC4qKqqrrq6+oE3j1KlT0tra6s3KyjItOHu93v/31ltv/WttbW1wJY3a2lr7tm3b7hKRNfLZWwYBoM87e/asNDY2SlNTk5w+fVp0XZfrr79eRo0aZXVpAIAYehScV69eXeTz+aZVVFRcsP/VV19t93q9mwoKCr7do+pCtLa2/u6VV16ZU1tbGwzjAwcOlMGDB2ctXLjwSyKyxax7AYDZ/vGPfwRfd3327FnRdV1uvPFGKS8vt7o0AICiHgXnjo6ORVdffXVn+I8R33zzTWlqavptVVXVt836EeNzzz232+VytZ06dWrg4MGDg/tvvPHGAU8//bRL07TnDcPwm3IzADDBmTNngm0Yn376qVRUVMicOXOktLTU6tIAAEnoUXDOyclxTZkyJT903759+6Sjo2PXzp07z1RVVfWsujAdHR2bd+zYsXLOnDn2wL5JkyZJfn7+tJkzZw4RkZOm3hAAEvTxxx8HZ5a9Xq/oui5z586VkSNHWl0aAKCHkg7OLpfr8kGDBg0rKSm5YP/LL7/sdrvd/9HjyiLw+Xy/2bNnz32hwVlE5KqrrvKfO3fuHk3Tvt9PHqKZISLXWl1EFFtFZJvVRQC96dSpU8GZZZ/PJxUVFTJ//nwZMWKE1aUBAEyUdHDOz8+/u7q6+oLZZo/HIydOnLA9++yzL/W8tO42bdp0aPXq1Sc++OCDotAfdV577bV5O3fuvEdEfiQi/WFN52tFZG3gi8rKStmzZ0+3QdH2hx6rrKyMeDz8vATusVYIzugHTp48GQzLfr9fdF2XW2+9VS699FKrSwMApEjSwdnv99/1uc997oLzX3vttU6Px/Ns15ftPaosCp/P9x9vvvnmj0pLS4OhfejQoTJgwIDChQsXTheRV1Nx374oNPRGC8CB/aHhNjzsRgrJ0a4VCNuJBnUgE3z44YfBN/hlZWWJruty2223ydChQ60uDQDQC5IKzsuWLZtZUlIiRUVFF6wvunXrVu9HH320qevLNhHz1x81DON3u3fvfmT+/PkX7L/xxhuLnnnmmTpN07Ya/aRfIxBSEwmy0fbFEiloh+8jNCNTHT9+PDiznJ2dLbquy8KFC2XIkCFWlwYA6GVJBWeHw7HkmmuuGRS6r7m5Wdra2o7+8Y9/PCginSLiM6PAcI8//viZb3/723sOHDhwzeWXXy4iIseOHZP9+/d7bTbbWBGxS9eazsuWLZtnGMZ3Ozs7v/TUU099mIp6rBQIq9ECdKSAG2lsvCAdKRCH7yM0I5McPXo0GJbz8vJE13VZtGiRhK7oAwDof5IKzoZhlL/yyitnGxsb7RMmTHCMHDlS/vrXv37q8Xh+2TWkzTAMqaurM7HUf/J4PD/fuXOn3traWvDSSy+53W73aa/X+/Pf/OY3m0Ukz+VyjdY07RkRGatpWlYmhmaRC4NxtBlgldlhlRnn8HvGOg6ko5aWFmloaJCmpiYpKCgQXdfl61//ulx00UVWlwYA6COSCs7r1q27qq6ubvLRo0en7dq1a3pOTs5kwzA8mzdvfqZrSEr6mwOefPLJZ1avXv1vu3bt2n/mzJlNzz333N7AsXvvvfeXmqbNFpEBImIYhvGfqazFarF6jkPHBKjMJqvcI1prCJBOjhw5Ik1NTdLQ0CADBgwQp9Mpd999txQXF1tdGgCgD0p2xllEZJemaXtFZJOI5IhI4FXY7aEvIklFu7FhGKJpWmXXv4tEJFdEjCVLlryYlZXl7Ppa5LMAf0tdXV1G9TzPmjVLZs2adcGDf5FCa6SZ4PCxqqtqRBMeqF988cW1L7744lqlkwEL/P3vfw+G5YsuukgqKirkvvvuk4EDB8Y/GQDQr/XoBSiGYZwXkXOapol8Fp5zpeuhwFQLCeRtIuIXEe9TTz01ZenSpZs1TZsnn80454rIc+vXr/+X3qipt/zsZz97SETWxuozVn1YL5GHB1WuOWvWrLWzZ89+OO6NM4jL5cqo/zHLRIcPHw72LA8ZMkQqKiqkrq5OioqKrC4NAJBGehScA7pCbEfX1qsMw/DJhQ8iLnK5XP+uadozhmGMzcrKuiHTF9mI1HOs0sKhuoSdyrVCZfqvd7hU9fKjZw4dOhRcOm7YsGGi67osX75cCgsLrS4NAJCmTAnO0QwZMuQDESmNOzAOm812NJHx69evPyAin1u6dOk8wzC+u2TJkmGZ+IBgvFaNeJJdVi58ZY7w1T0Aq7z//vvBsDxixAjRdV2uv/56cTgcVpcGAMgAKQvOS5cuvWb48OGmNA06HI6iW2655ernnnvuz4mct2HDhi0issWMGvqieGs3qz44qDqbHDou0fsAqfLuu+8Gw3JZWZnoui6zZ8+WvLw8q0sDAGSYlAXn7OzsmrFjx+ab8WP7CRMm5H/44YdVIpJQcO4PwmedI/U9q666EW/WOnRmO5n7AIn4y1/+Iq+++qr88Ic/7HbsnXfekcbGRmlqapJRo0aJruty0003SU5OjgWVAgD6i5QFZ4fDcUN5ebkpf4tddtllOfX19Z8XkX8XkfNmXDNTxFsiLtJ+1XGRjqkuewf0xO7du+X111+XSy65JLhv//79wXWWx40bJ7quy9y5cwnLAIBek7Lg3NHRcXVZWVnccRs2bPAtXbrUHmtMWVmZ5ObmVkqKe7IBWK+5uVn+9Kc/idfrlfb2dnn22Wdl3759cvnll4vT6ZRbbrlFsrP5owAA0PtS8rePy+UaVVRUlBVvqaeGhgZpaWk519DQUOx0OqOOKyoqkuzs7KzZs2ePFZG3TS43HW0VkbUW1xDNVqsLQPo6e/asbNq0STo6Plugx263S35+vvzgBz+QrKysOGcDAJBaqZq2uaa8vNyI199cX1/v7ujo+L/19fVf1XU9ZsouKSkxTp8+XaVpWkPoC1b6qW1dG9DNf/3bSjn2dnq2zZy4YqKcz82TLJtN/Jom7e3t8taOHXLiFz+XrM5Oq8uLacSVlXLTTx63ugwAQAqlJDjn5+fPHDNmTNw3C7S0tBRt3LjxQZfL9c14Y51OZ+H+/funi8hmSfErvYF0duztPbJ8+2tWl5G0lpYWOfLBB3Lw0CH54MgR+cTtlovuWiyLFi60urSYflpbY3UJAIAUS0lwzsrKura0NPbyzY2NjdLe3v6qiEhHR8dfGxsbZ+q6HnV8aWmp5OTk1IiIXQjOQGxp/BKakpEjpWTkSKmprhYRkY6ODmnv6EiL78nj8Yjdbhe7PeZjGwCANGV60+Bdd92V197eXjp8+PCY4+rr691tbW3PiIgYhrGpvr7+k1jjhw8fLjabbWR5eTmv/QL6kZycHClKk7f9eb1e8fl88QcCANKS6TPOhYWF1SNGjDgnIoNijWtpaSn63e9+918iYmzcuPH/uFyuZ+Ndu7i4+NOpU6deo2na8/Q5oy/pa68Z71vV9B+GYQQ3AEDmMX3G2W6314waNaow9C+Q8K2hoSHYpiEiPsMwjMLCwpcbGhqinmMYhlxxxRUFBQUFVcKydAAAAOhlpgfnnJycG8rLy2MG29A2DenqV3a73U+//fbbMds1xo4da8vOzv68fNbnDCAaw2Dr7Q0AkPFMD84dHR2V8V58cvTo0WCbhoh0iIhs2LDhD++8886AWOeVlZWJ3W53CsEZAAAAvczU4LxixYoJhYWFvry8vKhjQlfTEJGOwGLPhmFIYWHhy42NjVHPzcvLk9zcXN/NN998haZpmpm1AwAAALGYGpzPnz9fPWrUqITbNAJU2jVGjRplKy4uvlqYdQais7ptoT9uAICMZ2pwLigouK68vNwR6wG/SG0aAYF2jTgPCDrsdvsMITgDAACgF5kanP1+//RY/c1hbRrt4Us2qbRrdPU5TxWCMxCVwdbrGwAg85kWnFesWDGos7Nz8JAhQ6KOee2116K2aQTEa9cYMmSIZGdnXzx58uSL6XMGorC6baE/bgCAjGdacPb7/dUjR45sizUmpE3DLyIRX6+1YcOGPxw4cCDm6hoXX3xx2xVXXHG1sJ4zAAAAeolpwTk7O3vGmDFjiqL1Jsdr0wgIbdeIdi2n01lot9urhXYNAAAA9BLTgnNubu51paWlUa+n0qYREK9do7y8PCs3N3eGEJyByKxuW+iPGwAg45kWnL1er7OkpCTq8ZA2jU4ROR/rWvHaNUpKSsRut18hItn0OQMAAKA3mBKc6+rqKouLiz+12yNPADc1NYW/9CTm9QLtGk1NTRGP2+12yc3N9cyfP98p9DkDAACgF5gSnLOysqaNGjUqN9rxRNo0AuK1a4wbNy6nuLh4ihCcgW4MNpajAwCYzpTgnJ+ff31ZWVmewktP4rZpBATaNaJdc/z48XlZWVmfF/qcge6s7vftjxsAIOOZEpw7OzunlpaWRjwW1qYRdTWNcPHaNUpLSyU3N/dzImKnzRkAAACp1uPgvGTJkmGaphUUFxdHPJ5Mm0aA2+1+eu/evRHbNYqLi8VmszmmT58+VGjXAAAAQIr1ODjbbLbqkpKSqO0Xx44dC7RpnDcMozORa8dbXWPo0KHny8vLpwjtGsCFrG5b6I8bACDj9Tg45+bmfn706NERX3wS/tKTRK8d72UoTqezMDc3d5oQnAEAAJBiPQ7O2dnZM0tKSiI2Gb/++utJt2kEuN3upxsaGiK2a5SWlmo5OTm1Qp8z0Ouqpk8PbmZfs6fXAAAgFXrcG+z3+72/+tWvIh7z+XwtXW0aPsMw/Mlcf8OGDX944IEHvvfggw/qUe7fJiKaiNjks1U7gH5P9SHcntixfbtMra2VHdu3m3a/wDWTvd7U2loR6Z3vHwDQ//Q4OP/4xz+e3PXR0bVFktRss8hnfwFqmubs+vIiiT5LbheCM9CvBYI3AACp0OPgHJjZ0TStU0Q8UYYlHZzD7nFOotec1Iw2gNQJDbE7tm+Peize8fBjAABYwbRl3AzD6FE4VrxHh4h0pPo+AHou0MYR6etIx8KFtoIAANAX9Cg4V1ZWGnv27Enoqbx458Q6nsz9gN7Q53pqe7OeWPcKPxb6dcjnHdu2dTs2dcaM7vvNqCmFQlf9AQBkHuXgXFlZGfFvgkj7Y4XbPXv2aLECcPjxaGMJ0UDmmjpjhtUlAADQTUIzzvHCbOBYMvtCr5dsICZMA9YKzhL38LzA52SvBwBAKigH5/BAGm2mOdZMcrRrh14r9HNoUI9131j7gf6oN1oFrrn2WhHpPjscuPcbW7decOyNrVvjHgu95htbt3b7nEhNqucAAKAq4R7nWK0TZhQUfm3VGeRAi4cZNQCITyWYxhoT6Vj4vkTDL2EZAJBKCQXnQGgOD89mtkiE3yNWGKYtAwAAAL0lqR7n8ECrEmCTnQ1OVUAHMhqrOgAAYLqkV9UID7TRjsXaF+38WMcSDewAAACAGaK9vrqb8Af/KisrjcAWbUwi1w79HD6zHDrTHT4eAAAA6A1JvQAlkYcDk2mviLfWM4A4aNUAAMB0SQXnVK5eEbh2Mm8kDPybwI3+jtgMAID5UjrjnOxsc6z90VbaICwDAAAglRIOzom84MSMMJuq6wIAAACJSGrGGUAfR48zAACmU15VAwAAAOjPCM4AAACAAlo1gExEqwYAAKYjOAMZiNgMAID5aNUAAAAAFDDjDGQiWjUAADAdM84AAACAAoIzAAAAoIDgDAAAACigxxnIRPQ4AwBgOoIzkIGIzQAAmI/gDJjAYIYX8s/fB/x+AIDMRHAGMhHBDQAA0xGcgQwz3DlJfnHzl60uo9+5ZOJEq0sAAKQYwRnIMHMe+4mIiHi9XvF4PBZXAw5VJaQAAAK0SURBVABA5iA4AxkqOztbHA6H1WX0O9nZ/LEKAJmKP+GBDGW328Vut1tdBgAAGYMXoAAAAAAKCM4AAACAAoIzAAAAoIDgDAAAACggOAMAAAAKCM4AAACAAoIzAAAAoIDgDAAAACggOAMAAAAKCM4AAACAAoIzAAAAoIDgDAAAACggOAMAAAAKCM4AAACAAoIzAAAAoIDgDAAAACggOAMAAAAKCM4AAACAAoIzAAAAoIDgDAAAACjItroAIBMYhmF1CQAAIMWYcQYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFBAcAYAAAAUEJwBAAAABQRnAAAAQAHBGQAAAFCQbXUBQCYwDMPqEgAAQIox4wwAAAAoIDgDAAAACgjOAAAAgAKCMwAAAKCA4AwAAAAoIDgDAAAACgjOAAAAgAKCMwAAAKCA4AwAAAAoIDgDAAAACgjOAAAAgAKCMwAAAKCA4AwAAAAoIDgDAAAACgjOAAAAgAKCMwAAAKCA4AwAAAAoIDgDAAAACgjOAAAAgAKCMwAAAKCA4AwAAAAoIDgDAAAACgjOAAAAgAKCMwAAAKAg2+oCgExgGIbVJQAAgBRjxhkAAABQQHAGAAAAFBCcAQAAAAUEZwAAAEABwRkAAABQQHAGAAAAFBCcAQAAAAUEZwAAAEABwRkAAABQQHAGAAAAFBCcAQAAAAXZVhcApDuHw/H2gw8+eKXVdQAAAPP5fL6mwGfNMAwrawHSnqZpgY8Xi4gWYygAAEhfBsEZMImmaflCcAYAIFMZ/wuTKWBom9jXrgAAAABJRU5ErkJggg==" alt="img"></p> <p>这时候，如果再有一个客户端 Client2 前来获取锁，则在 ParentLock 下载再创建一个临时顺序节点 Lock2。</p> <p><img src="/notes/assets/img/Lusifer201810190007.74ee6cc6.png" alt="img"></p> <p>Client2 查找 ParentLock 下面所有的临时顺序节点并排序，判断自己所创建的节点 Lock2 是不是顺序最靠前的一个，结果发现节点 Lock2 并不是最小的。</p> <p>于是，Client2 向排序仅比它靠前的节点 Lock1 注册 Watcher，用于监听 Lock1 节点是否存在。这意味着 Client2 抢锁失败，进入了等待状态。</p> <p><img src="/notes/assets/img/Lusifer201810190008.af407ce7.png" alt="img"></p> <p>这时候，如果又有一个客户端 Client3 前来获取锁，则在 ParentLock 下载再创建一个临时顺序节点 Lock3。</p> <p><img src="/notes/assets/img/Lusifer201810190009.349712f9.png" alt="img"></p> <p>Client3 查找 ParentLock 下面所有的临时顺序节点并排序，判断自己所创建的节点 Lock3 是不是顺序最靠前的一个，结果同样发现节点 Lock3 并不是最小的。</p> <p>于是，Client3 向排序仅比它靠前的节点 Lock2 注册 Watcher，用于监听 Lock2 节点是否存在。这意味着 Client3 同样抢锁失败，进入了等待状态。</p> <p><img src="/notes/assets/img/Lusifer201810190010.c4b260c1.png" alt="img"></p> <p>这样一来，Client1 得到了锁，Client2 监听了 Lock1，Client3 监听了 Lock2。这恰恰形成了一个等待队列，</p> <h3 id="释放锁"><a href="#释放锁" class="header-anchor">#</a> 释放锁</h3> <p>释放锁分为两种情况：</p> <h4 id="任务完成-客户端显示释放"><a href="#任务完成-客户端显示释放" class="header-anchor">#</a> 任务完成，客户端显示释放</h4> <p>当任务完成时，Client1 会显示调用删除节点 Lock1 的指令。</p> <p><img src="/notes/assets/img/Lusifer201810190011.28530cd5.png" alt="img"></p> <h4 id="任务执行过程中-客户端崩溃"><a href="#任务执行过程中-客户端崩溃" class="header-anchor">#</a> 任务执行过程中，客户端崩溃</h4> <p>获得锁的 Client1 在任务执行过程中，如果崩溃，则会断开与 Zookeeper 服务端的链接。根据临时节点的特性，相关联的节点 Lock1 会随之自动删除。</p> <p><img src="/notes/assets/img/Lusifer201810190012.54f71da7.png" alt="img"></p> <p>由于 Client2 一直监听着 Lock1 的存在状态，当 Lock1 节点被删除，Client2 会立刻收到通知。这时候 Client2 会再次查询 ParentLock 下面的所有节点，确认自己创建的节点 Lock2 是不是目前最小的节点。如果是最小，则 Client2 顺理成章获得了锁。</p> <p><img src="/notes/assets/img/Lusifer201810190013.af1141bc.png" alt="img"></p> <p>同理，如果 Client2 也因为任务完成或者节点崩溃而删除了节点 Lock2，那么 Client3 就会接到通知。</p> <p><img src="/notes/assets/img/Lusifer201810190014.7c08d00c.png" alt="img"></p> <p>最终，Client3 成功得到了锁。</p> <p><img src="data:image/png;base64,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" alt="img"></p> <h2 id="zookeeper-和-redis-分布式锁的比较"><a href="#zookeeper-和-redis-分布式锁的比较" class="header-anchor">#</a> Zookeeper 和 Redis 分布式锁的比较</h2> <p><img src="/notes/assets/img/20181019070014.d65c3edb.jpg" alt="img"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/14/2023, 1:18:45 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/apache-dubbo-zookeeper/什么是 Zookeeper.html" class="prev">
        什么是 Zookeeper
      </a></span> <span class="next"><a href="/notes/apache-dubbo-zookeeper/基于 Docker 安装 Zookeeper.html">
        基于 Docker 安装 Zookeeper
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/notes/assets/js/app.4394edef.js" defer></script><script src="/notes/assets/js/3.499ba1d5.js" defer></script><script src="/notes/assets/js/11.e807a7ed.js" defer></script>
  </body>
</html>
